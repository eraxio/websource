webpackJsonp([3],{"4ffO":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Xxa5"),a=n.n(r),s=n("exGp"),i=n.n(s),o=n("Dd8w"),c=n.n(o),u=n("NYxO"),l=n("6Ezz"),f=n("oFuF"),h=n("pe5U"),p={components:{Search:l.a,EraxErac:h.a},name:"NtfDetail",data:function(){return{list:[],isLoading:!1,finished:!1,iPageNo:0,iPageNum:20,iLevel:1,levelName:"",iCount:0,clipboard:null,showPop:!1,nameAry:[this.$t("message.lang_26"),this.$t("message.lang_27"),this.$t("message.lang_28"),this.$t("message.lang_29"),this.$t("message.lang_30"),this.$t("message.lang_31"),this.$t("message.lang_32"),this.$t("message.lang_33"),this.$t("message.lang_34")]}},computed:c()({},Object(u.c)({language:function(e){return e.app.language}})),watch:{language:function(e){this.nameAry=[this.$t("message.lang_26"),this.$t("message.lang_27"),this.$t("message.lang_28"),this.$t("message.lang_29"),this.$t("message.lang_30"),this.$t("message.lang_31"),this.$t("message.lang_32"),this.$t("message.lang_33"),this.$t("message.lang_34")]}},mounted:function(){this.iLevel=parseInt(this.$route.query.level),this.levelName=f.a.getNameByLevel(this.iLevel)},methods:{load:function(){var e=this;return i()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.finished=!1,e.isLoading=!0,t.next=4,e.getEraxNftList();case 4:case"end":return t.stop()}},t,e)}))()},getEraxNftList:function(){var e=this;return i()(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.GetEraxNftList({iType:3,iLevel:e.iLevel,iPageNo:e.iPageNo,iPageNum:e.iPageNum});case 2:n=t.sent,e.iPageNo++,e.isLoading=!1,e.iCount=n.iCount,e.list=e.list.concat(n.vNfts),e.list.length>=e.iCount&&(e.finished=!0);case 8:case"end":return t.stop()}},t,e)}))()}}},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"nft-detail"},[r("div",{staticClass:"bannerDiv"},[r("img",{staticClass:"banner",attrs:{src:n("PmHn"),alt:""}}),e._v(" "),r("van-icon",{attrs:{name:"arrow-left"},on:{click:function(t){return e.$router.back()}}}),e._v(" "),r("div",{staticClass:"top-container"},[r("img",{attrs:{src:n("Wv35")("./L"+e.iLevel+".png"),alt:""}}),e._v(" "),r("div",{staticClass:"name"},[e._v(e._s(e.nameAry[e.iLevel-1]))])])],1),e._v(" "),r("div",{staticClass:"nft-container"},[r("img",{staticClass:"bg",attrs:{src:n("SZ06"),alt:""}}),e._v(" "),r("div",{staticClass:"ntf-main"},[r("div",{staticClass:"right-header"},[r("div",{staticClass:"txt1"},[e._v(e._s(e.nameAry[e.iLevel-1]))]),e._v(" "),r("div",{staticClass:"txt2"},[e._v(e._s(e.iCount))])]),e._v(" "),r("div",{staticClass:"right"},[r("van-list",{staticClass:"list",attrs:{finished:e.finished,"loading-text":e.$t("message.lang18"),"finished-text":e.$t("message.lang20")},on:{load:e.load},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},e._l(e.list,function(e,t){return r("EraxErac",{key:t,attrs:{item:e,idx:t}})}),1)],1)])])])},staticRenderFns:[]};var d=n("VU/8")(p,m,!1,function(e){n("ovwa")},"data-v-2bab1223",null);t.default=d.exports},"5zde":function(e,t,n){n("zQR9"),n("qyJz"),e.exports=n("FeBl").Array.from},Gu7T:function(e,t,n){"use strict";t.__esModule=!0;var r,a=n("c/Tr"),s=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,s.default)(e)}},OOFd:function(e,t){},TQvf:function(e,t,n){
/*!
 * clipboard.js v2.0.8
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
var r;r=function(){return function(){var e={134:function(e,t,n){"use strict";n.d(t,{default:function(){return v}});var r=n(279),a=n.n(r),s=n(370),i=n.n(s),o=n(817),c=n.n(o);function u(e){"@babel/helpers - typeof";return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}var t,n,r;return t=e,(n=[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"createFakeElement",value:function(){var e="rtl"===document.documentElement.getAttribute("dir");this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var t=window.pageYOffset||document.documentElement.scrollTop;return this.fakeElem.style.top="".concat(t,"px"),this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.fakeElem}},{key:"selectFake",value:function(){var e=this,t=this.createFakeElement();this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.container.appendChild(t),this.selectedText=c()(t),this.copyText(),this.removeFake()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=c()(this.target),this.copyText()}},{key:"copyText",value:function(){var e;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==u(e)||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}])&&l(t.prototype,n),r&&l(t,r),e}();function h(e){"@babel/helpers - typeof";return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){var n="data-clipboard-".concat(e);if(t.hasAttribute(n))return t.getAttribute(n)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(o,a());var t,n,r,s=d(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=s.call(this)).resolveOptions(t),n.listenClick(e),n}return t=o,r=[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}],(n=[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===h(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=i()(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new f({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return y("action",e)}},{key:"defaultTarget",value:function(e){var t=y("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return y("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}])&&p(t.prototype,n),r&&p(t,r),o}()},828:function(e){var t=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}e.exports=function(e,n){for(;e&&e.nodeType!==t;){if("function"==typeof e.matches&&e.matches(n))return e;e=e.parentNode}}},438:function(e,t,n){var r=n(828);function a(e,t,n,a,s){var i=function(e,t,n,a){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&a.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,i,s),{destroy:function(){e.removeEventListener(n,i,s)}}}e.exports=function(e,t,n,r,s){return"function"==typeof e.addEventListener?a.apply(null,arguments):"function"==typeof n?a.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return a(e,t,n,r,s)}))}},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:function(e,t,n){var r=n(879),a=n(438);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(r.string(e))return function(e,t,n){return a(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(e){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),a=document.createRange();a.selectNodeContents(e),r.removeAllRanges(),r.addRange(a),t=r.toString()}return t}},279:function(e){function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function a(){r.off(e,a),t.apply(n,arguments)}return a._=t,this.on(e,a,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,a=n.length;r<a;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],a=[];if(r&&t)for(var s=0,i=r.length;s<i;s++)r[s].fn!==t&&r[s].fn._!==t&&a.push(r[s]);return a.length?n[e]=a:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(134)}().default},e.exports=r()},Wv35:function(e,t,n){var r={"./L1.png":"7fuk","./L2.png":"OEmZ","./L3.png":"lLmW","./L4.png":"WKUq","./L5.png":"Idz8","./L6.png":"VwUt","./L7.png":"sZha","./L8.png":"RRpj","./L9.png":"X1Ze"};function a(e){return n(s(e))}function s(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id="Wv35"},"c/Tr":function(e,t,n){e.exports={default:n("5zde"),__esModule:!0}},fBQ2:function(e,t,n){"use strict";var r=n("evD5"),a=n("X8DO");e.exports=function(e,t,n){t in e?r.f(e,t,a(0,n)):e[t]=n}},mvHQ:function(e,t,n){e.exports={default:n("qkKv"),__esModule:!0}},ovwa:function(e,t){},pe5U:function(e,t,n){"use strict";var r=n("Xxa5"),a=n.n(r),s=n("exGp"),i=n.n(s),o=n("Dd8w"),c=n.n(o),u=n("TQvf"),l=n.n(u),f=n("NYxO"),h=n("Gu7T"),p=n.n(h),m=n("mvHQ"),d=n.n(m),g=n("ytf2"),y=n("Tnm7"),v=(n("IcnI"),n("7+uW")),w=n("lMj/");const b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function x(e,t,n,r){let a,s,i;const o=t||[0],c=(n=n||0)>>>3,u=-1===r?3:0;for(a=0;a<e.length;a+=1)s=(i=a+c)>>>2,o.length<=s&&o.push(0),o[s]|=e[a]<<8*(u+r*(i%4));return{value:o,binLen:8*e.length+n}}function k(e,t,n){switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":return function(e,t,r){return function(e,t,n,r){let a,s,i,o;if(0!=e.length%2)throw new Error("String of HEX type must be in byte increments");const c=t||[0],u=(n=n||0)>>>3,l=-1===r?3:0;for(a=0;a<e.length;a+=2){if(s=parseInt(e.substr(a,2),16),isNaN(s))throw new Error("String of HEX type contains invalid characters");for(i=(o=(a>>>1)+u)>>>2;c.length<=i;)c.push(0);c[i]|=s<<8*(l+r*(o%4))}return{value:c,binLen:4*e.length+n}}(e,t,r,n)};case"TEXT":return function(e,r,a){return function(e,t,n,r,a){let s,i,o,c,u,l,f,h,p=0;const m=n||[0],d=(r=r||0)>>>3;if("UTF8"===t)for(f=-1===a?3:0,o=0;o<e.length;o+=1)for(i=[],128>(s=e.charCodeAt(o))?i.push(s):2048>s?(i.push(192|s>>>6),i.push(128|63&s)):55296>s||57344<=s?i.push(224|s>>>12,128|s>>>6&63,128|63&s):(o+=1,s=65536+((1023&s)<<10|1023&e.charCodeAt(o)),i.push(240|s>>>18,128|s>>>12&63,128|s>>>6&63,128|63&s)),c=0;c<i.length;c+=1){for(u=(l=p+d)>>>2;m.length<=u;)m.push(0);m[u]|=i[c]<<8*(f+a*(l%4)),p+=1}else for(f=-1===a?2:0,h="UTF16LE"===t&&1!==a||"UTF16LE"!==t&&1===a,o=0;o<e.length;o+=1){for(s=e.charCodeAt(o),!0===h&&(s=(c=255&s)<<8|s>>>8),u=(l=p+d)>>>2;m.length<=u;)m.push(0);m[u]|=s<<8*(f+a*(l%4)),p+=2}return{value:m,binLen:8*p+r}}(e,t,r,a,n)};case"B64":return function(e,t,r){return function(e,t,n,r){let a,s,i,o,c,u,l,f=0;const h=t||[0],p=(n=n||0)>>>3,m=-1===r?3:0,d=e.indexOf("=");if(-1===e.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(e=e.replace(/=/g,""),-1!==d&&d<e.length)throw new Error("Invalid '=' found in base-64 string");for(s=0;s<e.length;s+=4){for(c=e.substr(s,4),o=0,i=0;i<c.length;i+=1)o|=(a=b.indexOf(c.charAt(i)))<<18-6*i;for(i=0;i<c.length-1;i+=1){for(u=(l=f+p)>>>2;h.length<=u;)h.push(0);h[u]|=(o>>>16-8*i&255)<<8*(m+r*(l%4)),f+=1}}return{value:h,binLen:8*f+n}}(e,t,r,n)};case"BYTES":return function(e,t,r){return function(e,t,n,r){let a,s,i,o;const c=t||[0],u=(n=n||0)>>>3,l=-1===r?3:0;for(s=0;s<e.length;s+=1)a=e.charCodeAt(s),i=(o=s+u)>>>2,c.length<=i&&c.push(0),c[i]|=a<<8*(l+r*(o%4));return{value:c,binLen:8*e.length+n}}(e,t,r,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(e){throw new Error("ARRAYBUFFER not supported by this environment")}return function(e,t,r){return function(e,t,n,r){return x(new Uint8Array(e),t,n,r)}(e,t,r,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(e){throw new Error("UINT8ARRAY not supported by this environment")}return function(e,t,r){return x(e,t,r,n)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function _(e,t,n,r){switch(e){case"HEX":return function(e){return function(e,t,n,r){let a,s,i="";const o=t/8,c=-1===n?3:0;for(a=0;a<o;a+=1)s=e[a>>>2]>>>8*(c+n*(a%4)),i+="0123456789abcdef".charAt(s>>>4&15)+"0123456789abcdef".charAt(15&s);return r.outputUpper?i.toUpperCase():i}(e,t,n,r)};case"B64":return function(e){return function(e,t,n,r){let a,s,i,o,c,u="";const l=t/8,f=-1===n?3:0;for(a=0;a<l;a+=3)for(o=a+1<l?e[a+1>>>2]:0,c=a+2<l?e[a+2>>>2]:0,i=(e[a>>>2]>>>8*(f+n*(a%4))&255)<<16|(o>>>8*(f+n*((a+1)%4))&255)<<8|c>>>8*(f+n*((a+2)%4))&255,s=0;s<4;s+=1)u+=8*a+6*s<=t?b.charAt(i>>>6*(3-s)&63):r.b64Pad;return u}(e,t,n,r)};case"BYTES":return function(e){return function(e,t,n){let r,a,s="";const i=t/8,o=-1===n?3:0;for(r=0;r<i;r+=1)a=e[r>>>2]>>>8*(o+n*(r%4))&255,s+=String.fromCharCode(a);return s}(e,t,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(e){throw new Error("ARRAYBUFFER not supported by this environment")}return function(e){return function(e,t,n){let r;const a=t/8,s=new ArrayBuffer(a),i=new Uint8Array(s),o=-1===n?3:0;for(r=0;r<a;r+=1)i[r]=e[r>>>2]>>>8*(o+n*(r%4))&255;return s}(e,t,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(e){throw new Error("UINT8ARRAY not supported by this environment")}return function(e){return function(e,t,n){let r;const a=t/8,s=-1===n?3:0,i=new Uint8Array(a);for(r=0;r<a;r+=1)i[r]=e[r>>>2]>>>8*(s+n*(r%4))&255;return i}(e,t,n)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const T=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],A=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],C=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],N="Chosen SHA variant is not supported";function S(e,t){let n,r;const a=e.binLen>>>3,s=t.binLen>>>3,i=a<<3,o=4-a<<3;if(a%4!=0){for(n=0;n<s;n+=4)r=a+n>>>2,e.value[r]|=t.value[n>>>2]<<i,e.value.push(0),e.value[r+1]|=t.value[n>>>2]>>>o;return(e.value.length<<2)-4>=s+a&&e.value.pop(),{value:e.value,binLen:e.binLen+t.binLen}}return{value:e.value.concat(t.value),binLen:e.binLen+t.binLen}}function O(e){const t={outputUpper:!1,b64Pad:"=",outputLen:-1},n=e||{},r="Output length must be a multiple of 8";if(t.outputUpper=n.outputUpper||!1,n.b64Pad&&(t.b64Pad=n.b64Pad),n.outputLen){if(n.outputLen%8!=0)throw new Error(r);t.outputLen=n.outputLen}else if(n.shakeLen){if(n.shakeLen%8!=0)throw new Error(r);t.outputLen=n.shakeLen}if("boolean"!=typeof t.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw new Error("Invalid b64Pad formatting option");return t}function E(e,t,n,r){const a=e+" must include a value and format";if(!t){if(!r)throw new Error(a);return r}if(void 0===t.value||!t.format)throw new Error(a);return k(t.format,t.encoding||"UTF8",n)(t.value)}class L{constructor(e,t,n){const r=n||{};if(this.t=t,this.i=r.encoding||"UTF8",this.numRounds=r.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.s=e,this.o=[],this.h=0,this.u=!1,this.l=0,this.A=!1,this.H=[],this.S=[]}update(e){let t,n=0;const r=this.p>>>5,a=this.m(e,this.o,this.h),s=a.binLen,i=a.value,o=s>>>5;for(t=0;t<o;t+=r)n+this.p<=s&&(this.C=this.R(i.slice(t,t+r),this.C),n+=this.p);this.l+=n,this.o=i.slice(n>>>5),this.h=s%this.p,this.u=!0}getHash(e,t){let n,r,a=this.U;const s=O(t);if(this.v){if(-1===s.outputLen)throw new Error("Output length must be specified in options");a=s.outputLen}const i=_(e,a,this.K,s);if(this.A&&this.T)return i(this.T(s));for(r=this.F(this.o.slice(),this.h,this.l,this.g(this.C),a),n=1;n<this.numRounds;n+=1)this.v&&a%32!=0&&(r[r.length-1]&=16777215>>>24-a%32),r=this.F(r,a,0,this.B(this.s),a);return i(r)}setHMACKey(e,t,n){if(!this.L)throw new Error("Variant does not support HMAC");if(this.u)throw new Error("Cannot set MAC key after calling update");const r=k(t,(n||{}).encoding||"UTF8",this.K);this.M(r(e))}M(e){const t=this.p>>>3,n=t/4-1;let r;if(1!==this.numRounds)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(t<e.binLen/8&&(e.value=this.F(e.value,e.binLen,0,this.B(this.s),this.U));e.value.length<=n;)e.value.push(0);for(r=0;r<=n;r+=1)this.H[r]=909522486^e.value[r],this.S[r]=1549556828^e.value[r];this.C=this.R(this.H,this.C),this.l=this.p,this.A=!0}getHMAC(e,t){const n=O(t);return _(e,this.U,this.K,n)(this.k())}k(){let e;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");const t=this.F(this.o.slice(),this.h,this.l,this.g(this.C),this.U);return e=this.R(this.S,this.B(this.s)),e=this.F(t,this.U,this.p,e,this.U)}}function $(e,t){return e<<t|e>>>32-t}function H(e,t){return e>>>t|e<<32-t}function F(e,t){return e>>>t}function R(e,t,n){return e^t^n}function P(e,t,n){return e&t^~e&n}function Y(e,t,n){return e&t^e&n^t&n}function I(e){return H(e,2)^H(e,13)^H(e,22)}function M(e,t){const n=(65535&e)+(65535&t);return(65535&(e>>>16)+(t>>>16)+(n>>>16))<<16|65535&n}function K(e,t,n,r){const a=(65535&e)+(65535&t)+(65535&n)+(65535&r);return(65535&(e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(a>>>16))<<16|65535&a}function U(e,t,n,r,a){const s=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&a);return(65535&(e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(a>>>16)+(s>>>16))<<16|65535&s}function D(e){return H(e,7)^H(e,18)^F(e,3)}function B(e){return H(e,6)^H(e,11)^H(e,25)}function W(e){return[1732584193,4023233417,2562383102,271733878,3285377520]}function G(e,t){let n,r,a,s,i,o,c;const u=[];for(n=t[0],r=t[1],a=t[2],s=t[3],i=t[4],c=0;c<80;c+=1)u[c]=c<16?e[c]:$(u[c-3]^u[c-8]^u[c-14]^u[c-16],1),o=c<20?U($(n,5),P(r,a,s),i,1518500249,u[c]):c<40?U($(n,5),R(r,a,s),i,1859775393,u[c]):c<60?U($(n,5),Y(r,a,s),i,2400959708,u[c]):U($(n,5),R(r,a,s),i,3395469782,u[c]),i=s,s=a,a=$(r,30),r=n,n=o;return t[0]=M(n,t[0]),t[1]=M(r,t[1]),t[2]=M(a,t[2]),t[3]=M(s,t[3]),t[4]=M(i,t[4]),t}function j(e,t,n,r){let a;const s=15+(t+65>>>9<<4),i=t+n;for(;e.length<=s;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[s]=4294967295&i,e[s-1]=i/4294967296|0,a=0;a<e.length;a+=16)r=G(e.slice(a,a+16),r);return r}class J extends L{constructor(e,t,n){if("SHA-1"!==e)throw new Error(N);super(e,t,n);const r=n||{};this.L=!0,this.T=this.k,this.K=-1,this.m=k(this.t,this.i,this.K),this.R=G,this.g=function(e){return e.slice()},this.B=W,this.F=j,this.C=[1732584193,4023233417,2562383102,271733878,3285377520],this.p=512,this.U=160,this.v=!1,r.hmacKey&&this.M(E("hmacKey",r.hmacKey,this.K))}}function q(e){let t;return t="SHA-224"==e?A.slice():C.slice()}function X(e,t){let n,r,a,s,i,o,c,u,l,f,h;const p=[];for(n=t[0],r=t[1],a=t[2],s=t[3],i=t[4],o=t[5],c=t[6],u=t[7],h=0;h<64;h+=1)p[h]=h<16?e[h]:K(H(m=p[h-2],17)^H(m,19)^F(m,10),p[h-7],D(p[h-15]),p[h-16]),l=U(u,B(i),P(i,o,c),T[h],p[h]),f=M(I(n),Y(n,r,a)),u=c,c=o,o=i,i=M(s,l),s=a,a=r,r=n,n=M(l,f);var m;return t[0]=M(n,t[0]),t[1]=M(r,t[1]),t[2]=M(a,t[2]),t[3]=M(s,t[3]),t[4]=M(i,t[4]),t[5]=M(o,t[5]),t[6]=M(c,t[6]),t[7]=M(u,t[7]),t}class z extends L{constructor(e,t,n){if("SHA-224"!==e&&"SHA-256"!==e)throw new Error(N);super(e,t,n);const r=n||{};this.T=this.k,this.L=!0,this.K=-1,this.m=k(this.t,this.i,this.K),this.R=X,this.g=function(e){return e.slice()},this.B=q,this.F=function(t,n,r,a){return function(e,t,n,r,a){let s,i;const o=15+(t+65>>>9<<4),c=t+n;for(;e.length<=o;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[o]=4294967295&c,e[o-1]=c/4294967296|0,s=0;s<e.length;s+=16)r=X(e.slice(s,s+16),r);return i="SHA-224"===a?[r[0],r[1],r[2],r[3],r[4],r[5],r[6]]:r}(t,n,r,a,e)},this.C=q(e),this.p=512,this.U="SHA-224"===e?224:256,this.v=!1,r.hmacKey&&this.M(E("hmacKey",r.hmacKey,this.K))}}class Q{constructor(e,t){this.Y=e,this.N=t}}function V(e,t){let n;return t>32?(n=64-t,new Q(e.N<<t|e.Y>>>n,e.Y<<t|e.N>>>n)):0!==t?(n=32-t,new Q(e.Y<<t|e.N>>>n,e.N<<t|e.Y>>>n)):e}function Z(e,t){let n;return t<32?(n=32-t,new Q(e.Y>>>t|e.N<<n,e.N>>>t|e.Y<<n)):(n=64-t,new Q(e.N>>>t|e.Y<<n,e.Y>>>t|e.N<<n))}function ee(e,t){return new Q(e.Y>>>t,e.N>>>t|e.Y<<32-t)}function te(e,t,n){return new Q(e.Y&t.Y^e.Y&n.Y^t.Y&n.Y,e.N&t.N^e.N&n.N^t.N&n.N)}function ne(e){const t=Z(e,28),n=Z(e,34),r=Z(e,39);return new Q(t.Y^n.Y^r.Y,t.N^n.N^r.N)}function re(e,t){let n,r;n=(65535&e.N)+(65535&t.N);const a=(65535&(r=(e.N>>>16)+(t.N>>>16)+(n>>>16)))<<16|65535&n;return n=(65535&e.Y)+(65535&t.Y)+(r>>>16),r=(e.Y>>>16)+(t.Y>>>16)+(n>>>16),new Q((65535&r)<<16|65535&n,a)}function ae(e,t,n,r){let a,s;a=(65535&e.N)+(65535&t.N)+(65535&n.N)+(65535&r.N);const i=(65535&(s=(e.N>>>16)+(t.N>>>16)+(n.N>>>16)+(r.N>>>16)+(a>>>16)))<<16|65535&a;return a=(65535&e.Y)+(65535&t.Y)+(65535&n.Y)+(65535&r.Y)+(s>>>16),s=(e.Y>>>16)+(t.Y>>>16)+(n.Y>>>16)+(r.Y>>>16)+(a>>>16),new Q((65535&s)<<16|65535&a,i)}function se(e,t,n,r,a){let s,i;s=(65535&e.N)+(65535&t.N)+(65535&n.N)+(65535&r.N)+(65535&a.N);const o=(65535&(i=(e.N>>>16)+(t.N>>>16)+(n.N>>>16)+(r.N>>>16)+(a.N>>>16)+(s>>>16)))<<16|65535&s;return s=(65535&e.Y)+(65535&t.Y)+(65535&n.Y)+(65535&r.Y)+(65535&a.Y)+(i>>>16),i=(e.Y>>>16)+(t.Y>>>16)+(n.Y>>>16)+(r.Y>>>16)+(a.Y>>>16)+(s>>>16),new Q((65535&i)<<16|65535&s,o)}function ie(e,t){return new Q(e.Y^t.Y,e.N^t.N)}function oe(e){const t=Z(e,19),n=Z(e,61),r=ee(e,6);return new Q(t.Y^n.Y^r.Y,t.N^n.N^r.N)}function ce(e){const t=Z(e,1),n=Z(e,8),r=ee(e,7);return new Q(t.Y^n.Y^r.Y,t.N^n.N^r.N)}function ue(e){const t=Z(e,14),n=Z(e,18),r=Z(e,41);return new Q(t.Y^n.Y^r.Y,t.N^n.N^r.N)}const le=[new Q(T[0],3609767458),new Q(T[1],602891725),new Q(T[2],3964484399),new Q(T[3],2173295548),new Q(T[4],4081628472),new Q(T[5],3053834265),new Q(T[6],2937671579),new Q(T[7],3664609560),new Q(T[8],2734883394),new Q(T[9],1164996542),new Q(T[10],1323610764),new Q(T[11],3590304994),new Q(T[12],4068182383),new Q(T[13],991336113),new Q(T[14],633803317),new Q(T[15],3479774868),new Q(T[16],2666613458),new Q(T[17],944711139),new Q(T[18],2341262773),new Q(T[19],2007800933),new Q(T[20],1495990901),new Q(T[21],1856431235),new Q(T[22],3175218132),new Q(T[23],2198950837),new Q(T[24],3999719339),new Q(T[25],766784016),new Q(T[26],2566594879),new Q(T[27],3203337956),new Q(T[28],1034457026),new Q(T[29],2466948901),new Q(T[30],3758326383),new Q(T[31],168717936),new Q(T[32],1188179964),new Q(T[33],1546045734),new Q(T[34],1522805485),new Q(T[35],2643833823),new Q(T[36],2343527390),new Q(T[37],1014477480),new Q(T[38],1206759142),new Q(T[39],344077627),new Q(T[40],1290863460),new Q(T[41],3158454273),new Q(T[42],3505952657),new Q(T[43],106217008),new Q(T[44],3606008344),new Q(T[45],1432725776),new Q(T[46],1467031594),new Q(T[47],851169720),new Q(T[48],3100823752),new Q(T[49],1363258195),new Q(T[50],3750685593),new Q(T[51],3785050280),new Q(T[52],3318307427),new Q(T[53],3812723403),new Q(T[54],2003034995),new Q(T[55],3602036899),new Q(T[56],1575990012),new Q(T[57],1125592928),new Q(T[58],2716904306),new Q(T[59],442776044),new Q(T[60],593698344),new Q(T[61],3733110249),new Q(T[62],2999351573),new Q(T[63],3815920427),new Q(3391569614,3928383900),new Q(3515267271,566280711),new Q(3940187606,3454069534),new Q(4118630271,4000239992),new Q(116418474,1914138554),new Q(174292421,2731055270),new Q(289380356,3203993006),new Q(460393269,320620315),new Q(685471733,587496836),new Q(852142971,1086792851),new Q(1017036298,365543100),new Q(1126000580,2618297676),new Q(1288033470,3409855158),new Q(1501505948,4234509866),new Q(1607167915,987167468),new Q(1816402316,1246189591)];function fe(e){return"SHA-384"===e?[new Q(3418070365,A[0]),new Q(1654270250,A[1]),new Q(2438529370,A[2]),new Q(355462360,A[3]),new Q(1731405415,A[4]),new Q(41048885895,A[5]),new Q(3675008525,A[6]),new Q(1203062813,A[7])]:[new Q(C[0],4089235720),new Q(C[1],2227873595),new Q(C[2],4271175723),new Q(C[3],1595750129),new Q(C[4],2917565137),new Q(C[5],725511199),new Q(C[6],4215389547),new Q(C[7],327033209)]}function he(e,t){let n,r,a,s,i,o,c,u,l,f,h,p;const m=[];for(n=t[0],r=t[1],a=t[2],s=t[3],i=t[4],o=t[5],c=t[6],u=t[7],h=0;h<80;h+=1)h<16?(p=2*h,m[h]=new Q(e[p],e[p+1])):m[h]=ae(oe(m[h-2]),m[h-7],ce(m[h-15]),m[h-16]),l=se(u,ue(i),(g=o,y=c,new Q((d=i).Y&g.Y^~d.Y&y.Y,d.N&g.N^~d.N&y.N)),le[h],m[h]),f=re(ne(n),te(n,r,a)),u=c,c=o,o=i,i=re(s,l),s=a,a=r,r=n,n=re(l,f);var d,g,y;return t[0]=re(n,t[0]),t[1]=re(r,t[1]),t[2]=re(a,t[2]),t[3]=re(s,t[3]),t[4]=re(i,t[4]),t[5]=re(o,t[5]),t[6]=re(c,t[6]),t[7]=re(u,t[7]),t}class pe extends L{constructor(e,t,n){if("SHA-384"!==e&&"SHA-512"!==e)throw new Error(N);super(e,t,n);const r=n||{};this.T=this.k,this.L=!0,this.K=-1,this.m=k(this.t,this.i,this.K),this.R=he,this.g=function(e){return e.slice()},this.B=fe,this.F=function(t,n,r,a){return function(e,t,n,r,a){let s,i;const o=31+(t+129>>>10<<5),c=t+n;for(;e.length<=o;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[o]=4294967295&c,e[o-1]=c/4294967296|0,s=0;s<e.length;s+=32)r=he(e.slice(s,s+32),r);return i="SHA-384"===a?[(r=r)[0].Y,r[0].N,r[1].Y,r[1].N,r[2].Y,r[2].N,r[3].Y,r[3].N,r[4].Y,r[4].N,r[5].Y,r[5].N]:[r[0].Y,r[0].N,r[1].Y,r[1].N,r[2].Y,r[2].N,r[3].Y,r[3].N,r[4].Y,r[4].N,r[5].Y,r[5].N,r[6].Y,r[6].N,r[7].Y,r[7].N]}(t,n,r,a,e)},this.C=fe(e),this.p=1024,this.U="SHA-384"===e?384:512,this.v=!1,r.hmacKey&&this.M(E("hmacKey",r.hmacKey,this.K))}}const me=[new Q(0,1),new Q(0,32898),new Q(2147483648,32906),new Q(2147483648,2147516416),new Q(0,32907),new Q(0,2147483649),new Q(2147483648,2147516545),new Q(2147483648,32777),new Q(0,138),new Q(0,136),new Q(0,2147516425),new Q(0,2147483658),new Q(0,2147516555),new Q(2147483648,139),new Q(2147483648,32905),new Q(2147483648,32771),new Q(2147483648,32770),new Q(2147483648,128),new Q(0,32778),new Q(2147483648,2147483658),new Q(2147483648,2147516545),new Q(2147483648,32896),new Q(0,2147483649),new Q(2147483648,2147516424)],de=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function ge(e){let t;const n=[];for(t=0;t<5;t+=1)n[t]=[new Q(0,0),new Q(0,0),new Q(0,0),new Q(0,0),new Q(0,0)];return n}function ye(e){let t;const n=[];for(t=0;t<5;t+=1)n[t]=e[t].slice();return n}function ve(e,t){let n,r,a,s;const i=[],o=[];if(null!==e)for(r=0;r<e.length;r+=2)t[(r>>>1)%5][(r>>>1)/5|0]=ie(t[(r>>>1)%5][(r>>>1)/5|0],new Q(e[r+1],e[r]));for(n=0;n<24;n+=1){for(s=ge(),r=0;r<5;r+=1)i[r]=(c=t[r][0],u=t[r][1],l=t[r][2],f=t[r][3],h=t[r][4],new Q(c.Y^u.Y^l.Y^f.Y^h.Y,c.N^u.N^l.N^f.N^h.N));for(r=0;r<5;r+=1)o[r]=ie(i[(r+4)%5],V(i[(r+1)%5],1));for(r=0;r<5;r+=1)for(a=0;a<5;a+=1)t[r][a]=ie(t[r][a],o[r]);for(r=0;r<5;r+=1)for(a=0;a<5;a+=1)s[a][(2*r+3*a)%5]=V(t[r][a],de[r][a]);for(r=0;r<5;r+=1)for(a=0;a<5;a+=1)t[r][a]=ie(s[r][a],new Q(~s[(r+1)%5][a].Y&s[(r+2)%5][a].Y,~s[(r+1)%5][a].N&s[(r+2)%5][a].N));t[0][0]=ie(t[0][0],me[n])}var c,u,l,f,h;return t}function we(e){let t,n,r=0;const a=[0,0],s=[4294967295&e,e/4294967296&2097151];for(t=6;t>=0;t--)0===(n=s[t>>2]>>>8*t&255)&&0===r||(a[r+1>>2]|=n<<8*(r+1),r+=1);return r=0!==r?r:1,a[0]|=r,{value:r+1>4?a:[a[0]],binLen:8+8*r}}function be(e){return S(we(e.binLen),e)}function xe(e,t){let n,r=we(t);const a=t>>>2,s=(a-(r=S(r,e)).value.length%a)%a;for(n=0;n<s;n++)r.value.push(0);return r.value}class ke extends L{constructor(e,t,n){let r=6,a=0;super(e,t,n);const s=n||{};if(1!==this.numRounds){if(s.kmacKey||s.hmacKey)throw new Error("Cannot set numRounds with MAC");if("CSHAKE128"===this.s||"CSHAKE256"===this.s)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.K=1,this.m=k(this.t,this.i,this.K),this.R=ve,this.g=ye,this.B=ge,this.C=ge(),this.v=!1,e){case"SHA3-224":this.p=a=1152,this.U=224,this.L=!0,this.T=this.k;break;case"SHA3-256":this.p=a=1088,this.U=256,this.L=!0,this.T=this.k;break;case"SHA3-384":this.p=a=832,this.U=384,this.L=!0,this.T=this.k;break;case"SHA3-512":this.p=a=576,this.U=512,this.L=!0,this.T=this.k;break;case"SHAKE128":r=31,this.p=a=1344,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"SHAKE256":r=31,this.p=a=1088,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"KMAC128":r=4,this.p=a=1344,this.I(n),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"KMAC256":r=4,this.p=a=1088,this.I(n),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"CSHAKE128":this.p=a=1344,r=this._(n),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"CSHAKE256":this.p=a=1088,r=this._(n),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;default:throw new Error(N)}this.F=function(e,t,n,s,i){return function(e,t,n,r,a,s,i){let o,c,u=0;const l=[],f=a>>>5,h=t>>>5;for(o=0;o<h&&t>=a;o+=f)r=ve(e.slice(o,o+f),r),t-=a;for(e=e.slice(o),t%=a;e.length<f;)e.push(0);for(e[(o=t>>>3)>>2]^=s<<o%4*8,e[f-1]^=2147483648,r=ve(e,r);32*l.length<i&&(c=r[u%5][u/5|0],l.push(c.N),!(32*l.length>=i));)l.push(c.Y),0==64*(u+=1)%a&&(ve(null,r),u=0);return l}(e,t,0,s,a,r,i)},s.hmacKey&&this.M(E("hmacKey",s.hmacKey,this.K))}_(e,t){const n=function(e){const t=e||{};return{funcName:E("funcName",t.funcName,1,{value:[],binLen:0}),customization:E("Customization",t.customization,1,{value:[],binLen:0})}}(e||{});t&&(n.funcName=t);const r=S(be(n.funcName),be(n.customization));if(0!==n.customization.binLen||0!==n.funcName.binLen){const e=xe(r,this.p>>>3);for(let t=0;t<e.length;t+=this.p>>>5)this.C=this.R(e.slice(t,t+(this.p>>>5)),this.C),this.l+=this.p;return 4}return 31}I(e){const t=function(e){const t=e||{};return{kmacKey:E("kmacKey",t.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:E("Customization",t.customization,1,{value:[],binLen:0})}}(e||{});this._(e,t.funcName);const n=xe(be(t.kmacKey),this.p>>>3);for(let e=0;e<n.length;e+=this.p>>>5)this.C=this.R(n.slice(e,e+(this.p>>>5)),this.C),this.l+=this.p;this.A=!0}X(e){const t=S({value:this.o.slice(),binLen:this.h},function(e){let t,n,r=0;const a=[0,0],s=[4294967295&e,e/4294967296&2097151];for(t=6;t>=0;t--)0===(n=s[t>>2]>>>8*t&255)&&0===r||(a[r>>2]|=n<<8*r,r+=1);return a[(r=0!==r?r:1)>>2]|=r<<8*r,{value:r+1>4?a:[a[0]],binLen:8+8*r}}(e.outputLen));return this.F(t.value,t.binLen,this.l,this.g(this.C),e.outputLen)}}var _e,Te,Ae,Ce,Ne,Se,Oe,Ee,Le,$e,He=class{constructor(e,t,n){if("SHA-1"==e)this.O=new J(e,t,n);else if("SHA-224"==e||"SHA-256"==e)this.O=new z(e,t,n);else if("SHA-384"==e||"SHA-512"==e)this.O=new pe(e,t,n);else{if("SHA3-224"!=e&&"SHA3-256"!=e&&"SHA3-384"!=e&&"SHA3-512"!=e&&"SHAKE128"!=e&&"SHAKE256"!=e&&"CSHAKE128"!=e&&"CSHAKE256"!=e&&"KMAC128"!=e&&"KMAC256"!=e)throw new Error(N);this.O=new ke(e,t,n)}}update(e){this.O.update(e)}getHash(e,t){return this.O.getHash(e,t)}setHMACKey(e,t,n){this.O.setHMACKey(e,t,n)}getHMAC(e,t){return this.O.getHMAC(e,t)}},Fe=(_e=i()(a.a.mark(function e(t){var n,r,s,i,o,c,u,l,f,h,m,g,b,x,k,_,T,A,C,N,S,O;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.a.prototype.$event.$emit("SHOW-LOADING",!0),e.next=3,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 3:return s=e.sent,i=s[0],t.maker=i,t.makerRelayerFee=y.l,t.target=y.a,t.side="1",t.replacementPattern="0x000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",t.salt=web3.utils.randomHex(32),o=new Date,t.listingTime=web3.utils.toHex(Math.round(o.getTime()/1e3)),t.feeRecipient=y.i,e.next=16,web3.eth.getGasPrice();case 16:return c=e.sent,console.log("推荐gas费==="+c),u=new web3.eth.Contract(JSON.parse(y.n),y.b),e.next=21,u.methods.proxies(i).call();case 21:if((l=e.sent)!=y.d){e.next=29;break}return console.log("跳转注册!"),e.next=26,u.methods.registerProxy().send({from:i,gasPrice:c,gas:7e5},function(e,t){if(e)return console.log("register报错"),v.a.prototype.$message.error("资产注册失败"),v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 26:return e.next=28,u.methods.proxies(i).call();case 28:l=e.sent;case 29:if(l!=y.d){e.next=34;break}return console.log("未注册!"),e.abrupt("return",!1);case 34:console.log("ownableDelegateProxy:"+l),console.log("已注册!");case 36:if(t.paymentToken===y.d){e.next=54;break}return f=new web3.eth.Contract(JSON.parse(y.o),t.paymentToken),e.next=40,f.methods.allowance(i,y.c).call();case 40:if("0"!=(h=e.sent)){e.next=48;break}return console.log("跳转ERC20授权!"),e.next=45,f.methods.approve(y.c,"10000000000000000000000").send({from:i,gasPrice:c},function(e,t){if(e)return v.a.prototype.$event.$emit("SHOW-LOADING",!1),console.log("授权报错"),v.a.prototype.$message.error(w.a.t("message.assets_lang_90")),!1});case 45:return e.next=47,f.methods.allowance(i,y.c).call();case 47:h=e.sent;case 48:if("0"!=h){e.next=53;break}return console.log("ERC20未授权!"),e.abrupt("return",!1);case 53:console.log("ERC20已授权!");case 54:return m=new web3.eth.Contract(JSON.parse(y.e),y.a),e.next=57,m.methods.isApprovedForAll(i,l).call();case 57:if(g=e.sent){e.next=65;break}return console.log("跳转资产授权!"),e.next=62,m.methods.setApprovalForAll(l,!0).send({from:i,gasPrice:c},function(e,t){if(e)return v.a.prototype.$event.$emit("SHOW-LOADING",!1),v.a.prototype.$message.error(w.a.t("message.assets_lang_91")),!1});case 62:return e.next=64,m.methods.isApprovedForAll(i,l).call();case 64:g=e.sent;case 65:if(g){e.next=70;break}return console.log("资产未授权!"),e.abrupt("return",!1);case 70:console.log("资产已授权!");case 71:return b=web3.eth.abi.encodeFunctionCall({constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_id",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},[t.maker,t.taker,t.tokenId,"1",[]]),console.log(b),t.calldata=b,x=new web3.eth.Contract(JSON.parse(y.h),t.exchange),k=Ye(t),e.next=78,(n=x.methods).validateOrderParameters_.apply(n,p()(k)).call();case 78:return e.sent&&console.log("validateOrderParameters 成功"),e.next=82,(r=x.methods).hashOrder_.apply(r,p()(k)).call();case 82:return _=e.sent,console.log("sell hash:"+_),e.next=86,web3.eth.personal.sign(_,i,function(e,t){if(e)return v.a.prototype.$event.$emit("SHOW-LOADING",!1),console.log("签名报错"),!1});case 86:return T=e.sent,A=T.substring(2),C="0x"+A.substring(0,64),N="0x"+A.substring(64,128),S="0x"+A.substring(128,130),O={hash:_,r:C,s:N,v:S},console.log("售卖成功"),v.a.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",{sSellOrder:d()(t),sSellSig:d()(O)});case 95:case"end":return e.stop()}},e,this)})),function(e){return _e.apply(this,arguments)}),Re=(Te=i()(a.a.mark(function e(t,n,r){var s,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=0,n!=y.d){e.next=7;break}return e.next=4,web3.eth.getBalance(r);case 4:s=e.sent,e.next=11;break;case 7:return i=new web3.eth.Contract(JSON.parse(y.o),n),e.next=10,i.methods.balanceOf(r).call().catch(function(e){if(e)return!1});case 10:s=e.sent;case 11:if(t=web3.utils.hexToNumberString(t),!(parseFloat(s)<parseFloat(t))&&parseFloat(s)){e.next=14;break}return e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}},e,this)})),function(e,t,n){return Te.apply(this,arguments)}),Pe=(Ae=i()(a.a.mark(function e(t,n,r,s,i){var o,c,u,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(g.c)(),o=web3.utils.toWei(t),t=web3.utils.fromDecimal(o),c=web3.utils.toWei(n),n=web3.utils.fromDecimal(c),u=web3.utils.fromDecimal(parseInt(parseInt(r)/1e3)),(l=JSON.parse(d()(y.m))).basePrice=t,l.expirationTime=u,l.saleKind="1",l.extra=n,l.paymentToken=s,l.tokenId=i,e.next=15,Fe(l);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e,this)})),Ce=i()(a.a.mark(function e(t,n,r,s){var i,o,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(g.c)(),i=web3.utils.toWei(t),t=web3.utils.fromDecimal(i),o=web3.utils.fromDecimal(parseInt(parseInt(n)/1e3)),(c=JSON.parse(d()(y.m))).basePrice=t,c.expirationTime=o,c.paymentToken=r,c.tokenId=s,e.next=11,Fe(c);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e,this)})),Ne=i()(a.a.mark(function e(t,n,r){var s,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(g.c)(),s=web3.utils.toWei(t),t=web3.utils.fromDecimal(s),(i=JSON.parse(d()(y.m))).basePrice=t,i.paymentToken=n,i.tokenId=r,e.next=9,Fe(i);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)})),Se=i()(a.a.mark(function e(t,n){var r,s,i,o,c,u,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.a.prototype.$event.$emit("SHOW-LOADING",!0),Object(g.c)(),(s=Ye(t)).push(n.v),s.push(n.r),s.push(n.s),e.next=8,ethereum.request({method:"eth_requestAccounts"});case 8:return i=e.sent,o=i[0],c=new web3.eth.Contract(JSON.parse(y.h),t.exchange),e.next=13,web3.eth.getGasPrice();case 13:return u=e.sent,console.log("推荐gas费==="+u),e.next=17,(r=c.methods).cancelOrder_.apply(r,p()(s)).send({from:o,gasPrice:u},function(e,t){if(e)return v.a.prototype.$message.error(w.a.t("message.assets_lang_89")),v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 17:return l=e.sent,v.a.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",l);case 20:case"end":return e.stop()}},e,this)})),Oe=i()(a.a.mark(function e(t){var n,r,s,i,o,c,u,l,f,h,m,b,x,k,_,T,A,C;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(g.c)(),e.next=3,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 3:return s=e.sent,i=s[0],e.next=7,Re(t.basePrice,t.paymentToken,i);case 7:if(e.sent){e.next=12;break}return v.a.prototype.$message.error(w.a.t("message.assets_lang_88")),v.a.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",!1);case 12:return e.next=14,web3.eth.getGasPrice();case 14:if(o=e.sent,console.log("推荐gas费==="+o),(c=JSON.parse(d()(y.m))).maker=i,c.salt=web3.utils.randomHex(32),c.makerRelayerFee=t.makerRelayerFee,c.target=t.target,c.side="0",c.replacementPattern="0x00000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",c.listingTime=t.listingTime,c.basePrice=t.basePrice,c.taker=t.maker,c.paymentToken=t.paymentToken,c.tokenId=t.tokenId,t.paymentToken===y.d){e.next=46;break}return u=new web3.eth.Contract(JSON.parse(y.o),t.paymentToken),e.next=32,u.methods.allowance(i,y.c).call();case 32:if("0"!=(l=e.sent)){e.next=40;break}return console.log("跳转ERC20授权!"),e.next=37,u.methods.approve(y.c,"10000000000000000000000").send({from:i,gasPrice:o},function(e,t){if(e)return v.a.prototype.$message.error(w.a.t("message.assets_lang_90")),v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 37:return e.next=39,u.methods.allowance(i,y.c).call();case 39:l=e.sent;case 40:if("0"!=l){e.next=45;break}return console.log("ERC20未授权!"),e.abrupt("return",!1);case 45:console.log("ERC20已授权!");case 46:return f=web3.eth.abi.encodeFunctionCall({constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_id",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},[t.maker,c.maker,t.tokenId,"1",[]]),console.log(f),c.calldata=f,h=new web3.eth.Contract(JSON.parse(y.h),c.exchange),m=Ye(c),e.next=53,(n=h.methods).validateOrderParameters_.apply(n,p()(m)).call();case 53:return e.sent&&console.log("validateOrderParameters 成功"),e.next=57,(r=h.methods).hashOrder_.apply(r,p()(m)).call();case 57:return b=e.sent,console.log("buy hash:"+b),e.next=61,web3.eth.personal.sign(b,i,function(e,t){if(e)return v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 61:return x=e.sent,k=x.substring(2),_="0x"+k.substring(0,64),T="0x"+k.substring(64,128),A="0x"+k.substring(128,130),C={hash:b,r:_,s:T,v:A},console.log("买单成功"),e.abrupt("return",{buyOrder:d()(c),buySig:d()(C)});case 69:case"end":return e.stop()}},e,this)})),Ee=i()(a.a.mark(function e(t,n,r,s){var i,o,c,u,l,f,h,p,m,d,b;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("买单hash==="+s.hash+"卖单hash==="+n.hash),e.next=3,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 3:return o=e.sent,c=o[0],Object(g.c)(),u=new web3.eth.Contract(JSON.parse(y.h),t.exchange),l=[[r.exchange,r.maker,r.taker,r.feeRecipient,r.target,r.aggent,r.paymentToken,t.exchange,t.maker,t.taker,t.feeRecipient,t.target,t.aggent,t.paymentToken],[r.makerRelayerFee,r.takerRelayerFee,r.makerProtocolFee,r.takerProtocolFee,r.basePrice,r.extra,r.listingTime,r.expirationTime,r.salt,r.aggentFee,t.makerRelayerFee,t.takerRelayerFee,t.makerProtocolFee,t.takerProtocolFee,t.basePrice,t.extra,t.listingTime,t.expirationTime,t.salt,t.aggentFee],[r.feeMethod,r.side,r.saleKind,r.howToCall,t.feeMethod,t.side,t.saleKind,t.howToCall],web3.utils.hexToBytes(r.calldata),web3.utils.hexToBytes(t.calldata),web3.utils.hexToBytes(r.replacementPattern),web3.utils.hexToBytes(t.replacementPattern),[s.v,n.v],[s.r,s.s,n.r,n.s,web3.utils.hexToBytes("0x0000000000000000000000000000000000000000000000000000000000000000")]],f=web3.eth.abi.encodeFunctionCall({inputs:[{internalType:"address[14]",name:"addrs",type:"address[14]"},{internalType:"uint256[20]",name:"uints",type:"uint256[20]"},{internalType:"uint8[8]",name:"feeMethodsSidesKindsHowToCalls",type:"uint8[8]"},{internalType:"bytes",name:"calldataBuy",type:"bytes"},{internalType:"bytes",name:"calldataSell",type:"bytes"},{internalType:"bytes",name:"replacementPatternBuy",type:"bytes"},{internalType:"bytes",name:"replacementPatternSell",type:"bytes"},{internalType:"uint8[2]",name:"vs",type:"uint8[2]"},{internalType:"bytes32[5]",name:"rssMetadata",type:"bytes32[5]"}],name:"atomicMatch_",outputs:[],stateMutability:"payable",type:"function"},[].concat(l)),console.log("funcSig=="+f),(h=new He("SHA-256","TEXT",{encoding:"UTF8"})).update(f),p=h.getHash("HEX"),console.log("funcSigHash=="+p),e.next=16,web3.eth.getGasPrice();case 16:return m=e.sent,console.log("推荐gas费==="+m),d=web3.utils.hexToNumberString(t.basePrice),t.paymentToken!==y.d&&(d=0),e.next=22,(i=u.methods).atomicMatch_.apply(i,l).send({from:c,value:d,gasPrice:m,gas:5e5},function(e,t){return e?(console.log("订单匹配失败"),v.a.prototype.$message.error(w.a.t("message.assets_lang_92")),v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1):(console.log("---- 已进入挖矿 订单hash="+t),v.a.prototype.$event.$emit("MATCHORDER",!0),!0)});case 22:return b=e.sent,console.log("---- 交易结果"+b),b||v.a.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",b);case 26:case"end":return e.stop()}},e,this)})),Le=i()(a.a.mark(function e(t,n){var r,s,i,o,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.a.prototype.$event.$emit("SHOW-LOADING",!0),Object(g.c)(),e.next=4,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 4:return r=e.sent,s=r[0],e.next=8,web3.eth.getGasPrice();case 8:return i=e.sent,console.log("推荐gas费==="+i),o=new web3.eth.Contract(JSON.parse(y.e),y.a),e.next=13,o.methods.safeTransferFrom(s,t,n,1,0).send({from:s,gasPrice:i},function(e,t){if(e)return v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 13:return c=e.sent,v.a.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",c);case 16:case"end":return e.stop()}},e,this)})),$e=i()(a.a.mark(function e(t,n){var r,s,i,o,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(g.c)(),e.next=3,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return!1});case 3:return r=e.sent,s=r[0],e.next=7,web3.eth.getGasPrice();case 7:return i=e.sent,console.log("推荐gas费==="+i),o=new web3.eth.Contract(JSON.parse(y.f),y.g),e.next=12,o.methods.transferFrom(s,t,n).send({from:s,gasPrice:i},function(e,t){if(e)return!1});case 12:return c=e.sent,e.abrupt("return",c);case 14:case"end":return e.stop()}},e,this)})),function(e,t){return $e.apply(this,arguments)});function Ye(e){return[[e.exchange,e.maker,e.taker,e.feeRecipient,e.target,e.aggent,e.paymentToken],[e.makerRelayerFee,e.takerRelayerFee,e.makerProtocolFee,e.takerProtocolFee,e.basePrice,e.extra,e.listingTime,e.expirationTime,e.salt,e.aggentFee],e.feeMethod,e.side,e.saleKind,e.howToCall,web3.utils.hexToBytes(e.calldata),web3.utils.hexToBytes(e.replacementPattern)]}Ie=i()(a.a.mark(function e(t,n,r,s){var i,o,c,u,l,f,h,m,b,x,k,_,T,A,C,N,S,O,E,L,$;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.a.prototype.$event.$emit("SHOW-LOADING",!0),Object(g.c)(),c=web3.utils.toWei(t),t=web3.utils.fromDecimal(c),e.next=6,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 6:return u=e.sent,l=u[0],e.next=10,Re(t,r,l);case 10:if(e.sent){e.next=15;break}return v.a.prototype.$message.error(w.a.t("message.assets_lang_88")),v.a.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",!1);case 15:return e.next=17,web3.eth.getGasPrice();case 17:if(f=e.sent,console.log("推荐gas费==="+f),h=web3.utils.fromDecimal(parseInt(parseInt(n)/1e3)),(m=JSON.parse(d()(y.m))).expirationTime=h,m.maker=l,m.salt=web3.utils.randomHex(32),m.makerRelayerFee=y.l,m.target=y.a,m.side="0",m.replacementPattern="0x00000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",b=new Date,m.listingTime=web3.utils.toHex(Math.round(b.getTime()/1e3)),m.basePrice=t,m.taker=y.d,m.paymentToken=r,m.tokenId=s,r===y.d){e.next=52;break}return x=new web3.eth.Contract(JSON.parse(y.o),r),e.next=38,x.methods.allowance(l,y.c).call();case 38:if("0"!=(k=e.sent)){e.next=46;break}return console.log("跳转ERC20授权!"),e.next=43,x.methods.approve(y.c,"10000000000000000000000").send({from:l,gasPrice:f},function(e,t){if(e)return v.a.prototype.$message.error(w.a.t("message.assets_lang_90")),v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 43:return e.next=45,x.methods.allowance(l,y.c).call();case 45:k=e.sent;case 46:if("0"!=k){e.next=51;break}return console.log("ERC20未授权!"),e.abrupt("return",!1);case 51:console.log("ERC20已授权!");case 52:return _=web3.eth.abi.encodeFunctionCall({constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_id",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},[y.d,m.maker,m.tokenId,"1",[]]),console.log(_),m.calldata=_,T=new web3.eth.Contract(JSON.parse(y.h),m.exchange),A=Ye(m),e.next=59,(i=T.methods).validateOrderParameters_.apply(i,p()(A)).call();case 59:return e.sent&&console.log("validateOrderParameters 成功"),e.next=63,(o=T.methods).hashOrder_.apply(o,p()(A)).call();case 63:return C=e.sent,console.log("buy hash:"+C),e.next=67,web3.eth.personal.sign(C,l,function(e,t){if(e)return v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 67:return N=e.sent,S=N.substring(2),O="0x"+S.substring(0,64),E="0x"+S.substring(64,128),L="0x"+S.substring(128,130),$={hash:C,r:O,s:E,v:L},v.a.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",{buyOrder:d()(m),buySig:d()($)});case 75:case"end":return e.stop()}},e,this)})),Me=i()(a.a.mark(function e(t){var n,r,s,i,o,c,u,l,f,h,m,b,x,k,_,T,A,C,N,S,O,E;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(g.c)(),e.next=3,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 3:return s=e.sent,i=s[0],e.next=7,Re(t.basePrice,t.paymentToken,t.maker);case 7:if(e.sent){e.next=12;break}return v.a.prototype.$message.error(w.a.t("message.assets_lang_93")),v.a.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",!1);case 12:return e.next=14,web3.eth.getGasPrice();case 14:return o=e.sent,console.log("推荐gas费==="+o),(c=JSON.parse(d()(y.m))).makerRelayerFee=t.makerRelayerFee,c.target=t.target,c.side="1",c.replacementPattern="0x000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",c.salt=web3.utils.randomHex(32),c.basePrice=t.basePrice,c.paymentToken=t.paymentToken,c.taker=t.maker,c.listingTime=t.listingTime,c.feeRecipient=y.i,c.maker=i,u=new web3.eth.Contract(JSON.parse(y.n),y.b),e.next=31,u.methods.proxies(i).call();case 31:if((l=e.sent)!=y.d){e.next=39;break}return console.log("跳转注册!"),e.next=36,u.methods.registerProxy().send({from:i,gasPrice:o},function(e,t){if(e)return v.a.prototype.$message.error("注册失败"),v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 36:return e.next=38,u.methods.proxies(i).call();case 38:l=e.sent;case 39:if(l!=y.d){e.next=44;break}return console.log("未注册!"),e.abrupt("return",!1);case 44:console.log("ownableDelegateProxy:"+l),console.log("已注册!");case 46:if(t.paymentToken===y.d){e.next=64;break}return f=new web3.eth.Contract(JSON.parse(y.o),t.paymentToken),e.next=50,f.methods.allowance(i,y.c).call();case 50:if("0"!=(h=e.sent)){e.next=58;break}return console.log("跳转ERC20授权!"),e.next=55,f.methods.approve(y.c,"10000000000000000000000").send({from:i,gasPrice:o},function(e,t){if(e)return v.a.prototype.$message.error(w.a.t("message.assets_lang_90")),v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 55:return e.next=57,f.methods.allowance(i,y.c).call();case 57:h=e.sent;case 58:if("0"!=h){e.next=63;break}return console.log("ERC20未授权!"),e.abrupt("return",!1);case 63:console.log("ERC20已授权!");case 64:return m=new web3.eth.Contract(JSON.parse(y.e),y.a),e.next=67,m.methods.isApprovedForAll(i,l).call();case 67:if(b=e.sent){e.next=75;break}return console.log("跳转资产授权!"),e.next=72,m.methods.setApprovalForAll(l,!0).send({from:i,gasPrice:o},function(e,t){if(e)return v.a.prototype.$message.error(w.a.t("message.assets_lang_91")),v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 72:return e.next=74,m.methods.isApprovedForAll(i,l).call();case 74:b=e.sent;case 75:if(b){e.next=80;break}return console.log("资产未授权!"),e.abrupt("return",!1);case 80:console.log("资产已授权!");case 81:return x=web3.eth.abi.encodeFunctionCall({constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_id",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},[c.maker,c.taker,t.tokenId,"1",[]]),console.log(x),c.calldata=x,k=new web3.eth.Contract(JSON.parse(y.h),c.exchange),_=Ye(c),e.next=88,(n=k.methods).validateOrderParameters_.apply(n,p()(_)).call();case 88:return e.sent&&console.log("validateOrderParameters 成功"),e.next=92,(r=k.methods).hashOrder_.apply(r,p()(_)).call();case 92:return T=e.sent,console.log("sell hash:"+T),e.next=96,web3.eth.personal.sign(T,i,function(e,t){if(e)return v.a.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 96:return A=e.sent,C=A.substring(2),N="0x"+C.substring(0,64),S="0x"+C.substring(64,128),O="0x"+C.substring(128,130),E={hash:T,r:N,s:S,v:O},e.abrupt("return",{sSellOrder:d()(c),sSellSig:d()(E)});case 103:case"end":return e.stop()}},e,this)})),Ke=i()(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(g.c)(),n=new web3.eth.Contract(JSON.parse(y.p),y.q),e.next=4,n.methods.hashToSign(t).call().catch(function(e){if(e)return!1});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),Ue=i()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(g.c)(),n=web3.utils.sha3(web3.utils.toHex("Ethereum Signed Message:\n32")+t.substring(2),{encoding:"hex"}),e.abrupt("return",n);case 3:case"end":return e.stop()}},e,this)})),De=i()(a.a.mark(function e(t,n){var r,s,i,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ye(t)).push(n.v),r.push(n.r),r.push(n.s),Object(g.c)(),s=web3.eth.abi.encodeFunctionCall({inputs:[{internalType:"address[7]",name:"addrs",type:"address[7]"},{internalType:"uint256[10]",name:"uints",type:"uint256[10]"},{internalType:"enum ExchangeCore.FeeMethod",name:"feeMethod",type:"uint8"},{internalType:"enum SaleKindInterface.Side",name:"side",type:"uint8"},{internalType:"enum SaleKindInterface.SaleKind",name:"saleKind",type:"uint8"},{internalType:"enum AuthenticatedProxy.HowToCall",name:"howToCall",type:"uint8"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes",name:"replacementPattern",type:"bytes"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelOrder_",outputs:[],stateMutability:"nonpayable",type:"function"},[].concat(p()(r))),console.log("funcSig=="+s),(i=new He("SHA-256","TEXT",{encoding:"UTF8"})).update(s),o=i.getHash("HEX"),console.log("funcSigHash=="+o),e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)})),Be=i()(a.a.mark(function e(t,n,r,s){var i,o,c,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=[[r.exchange,r.maker,r.taker,r.feeRecipient,r.target,r.aggent,r.paymentToken,t.exchange,t.maker,t.taker,t.feeRecipient,t.target,t.aggent,t.paymentToken],[r.makerRelayerFee,r.takerRelayerFee,r.makerProtocolFee,r.takerProtocolFee,r.basePrice,r.extra,r.listingTime,r.expirationTime,r.salt,r.aggentFee,t.makerRelayerFee,t.takerRelayerFee,t.makerProtocolFee,t.takerProtocolFee,t.basePrice,t.extra,t.listingTime,t.expirationTime,t.salt,t.aggentFee],[r.feeMethod,r.side,r.saleKind,r.howToCall,t.feeMethod,t.side,t.saleKind,t.howToCall],web3.utils.hexToBytes(r.calldata),web3.utils.hexToBytes(t.calldata),web3.utils.hexToBytes(r.replacementPattern),web3.utils.hexToBytes(t.replacementPattern),[s.v,n.v],[s.r,s.s,n.r,n.s,web3.utils.hexToBytes("0x0000000000000000000000000000000000000000000000000000000000000000")]],Object(g.c)(),o=web3.eth.abi.encodeFunctionCall({inputs:[{internalType:"address[14]",name:"addrs",type:"address[14]"},{internalType:"uint256[20]",name:"uints",type:"uint256[20]"},{internalType:"uint8[8]",name:"feeMethodsSidesKindsHowToCalls",type:"uint8[8]"},{internalType:"bytes",name:"calldataBuy",type:"bytes"},{internalType:"bytes",name:"calldataSell",type:"bytes"},{internalType:"bytes",name:"replacementPatternBuy",type:"bytes"},{internalType:"bytes",name:"replacementPatternSell",type:"bytes"},{internalType:"uint8[2]",name:"vs",type:"uint8[2]"},{internalType:"bytes32[5]",name:"rssMetadata",type:"bytes32[5]"}],name:"atomicMatch_",outputs:[],stateMutability:"payable",type:"function"},[].concat(i)),console.log("funcSig=="+o),(c=new He("SHA-256","TEXT",{encoding:"UTF8"})).update(o),u=c.getHash("HEX"),console.log("funcSigHash=="+u),e.abrupt("return",u);case 9:case"end":return e.stop()}},e,this)}));var Ie,Me,Ke,Ue,De,Be,We={name:"EraxErac",props:{item:{type:Object,required:!0},idx:{type:Number}},data:function(){return{v:this.item,showPop:!1,showTransfer:!1,isTransferring:!1,toWallet:"",nameAry:["message.lang_26","message.lang_27","message.lang_28","message.lang_29","message.lang_30","message.lang_31","message.lang_32","message.lang_33","message.lang_34"]}},computed:c()({},Object(f.c)({mateMaskToken:function(e){return e.app.mateMaskToken}})),watch:{mateMaskToken:function(e){return e}},mounted:function(){},methods:{handleTransfer:function(){var e=this;return i()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.toWallet.toLowerCase()!==e.mateMaskToken.toLowerCase()){t.next=3;break}return e.$toast(e.$t("message.lang21")),t.abrupt("return");case 3:return e.isTransferring=!0,t.next=6,Pe(e.toWallet,e.item.sTokenId).then(function(){e.$toast(e.$t("message.lang25")),e.showTransfer=!1,e.$emit("callBack",!0)}).catch(function(){e.$toast(e.$t("message.lang24"))}).finally(function(){e.isTransferring=!1});case 6:case"end":return t.stop()}},t,e)}))()},handleShowDetail:function(){var e=this;this.showPop=!0,this.$nextTick(function(){e.initCopy()})},initCopy:function(){var e=this,t=document.getElementById("copyBtn"+this.idx);new l.a(t).on("success",function(){e.$toast(e.$t("message.lang_62"))})}}},Ge={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"erac-item"},[n("div",{staticClass:"erac-item-line-1"},[n("div",{staticClass:"line-1-1"},[n("img",{staticClass:"erac-avatar",attrs:{src:e.v.sAvatarImg,alt:""}}),e._v(" "),n("div",{staticClass:"line-1-1-1"},[n("h1",{staticClass:"a-1"},[e._v(e._s(e.v.sName))]),e._v(" "),n("p",{staticClass:"a-2"},[e._v(e._s(e.$t("message.lang_37"))+": "+e._s(e.v.iLevel))]),e._v(" "),n("p",{staticClass:"a-2"},[e._v(e._s(e.$t("message.lang_35"))+": "+e._s(e.v.iId))])])]),e._v(" "),n("div",[n("p",{staticClass:"erac-more",on:{click:e.handleShowDetail}},[e._v(e._s(e.$t("message.lang_55"))+"\n        "),n("van-icon",{staticClass:"erac-more-icon",attrs:{name:"arrow"}})],1),e._v(" "),n("van-button",{staticClass:"erac-item-btn",on:{click:function(t){e.showTransfer=!0}}},[e._v(e._s(e.$t("message.lang22"))+"\n      ")])],1)]),e._v(" "),n("div",{staticClass:"erac-item-line-2"},[n("p",{staticClass:"b-1"},[e._v(e._s(e.$t("message.lang_38"))+": "+e._s(e.v.iValue))]),e._v(" "),n("p",{staticClass:"b-2"},[e._v(e._s(e.$t("message.lang_39"))+": "+e._s(e.v.iMiningSpeed))])]),e._v(" "),n("van-popup",{staticClass:"erax-erac-pop",attrs:{"get-container":"#app"},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[n("div",{staticClass:"left"},[n("div",{staticClass:"left-top"},[n("div",{staticClass:"imgDiv"},[n("img",{attrs:{src:e.v.sAvatarImg,alt:""}})]),e._v(" "),n("div",{staticClass:"name"},[e._v(e._s(e.v.sName))]),e._v(" "),n("div",{staticClass:"desc desc1"},[e._v(e._s(e.$t(e.nameAry[e.v.iLevel-1])))]),e._v(" "),n("div",{staticClass:"desc"},[e._v(e._s(e.v.iId))])]),e._v(" "),n("div",{staticClass:"left-mid"},[n("div",{staticClass:"left-mid-left"},[n("div",{staticClass:"txt1"},[e._v(e._s(e.v.iValue))]),e._v(" "),n("div",{staticClass:"txt3"},[e._v(e._s(e.$t("message.lang_38")))])]),e._v(" "),n("div",{staticClass:"left-mid-right"},[n("div",{staticClass:"txt1"},[e._v(e._s(e.$util.thousandthFormat(e.v.iMiningSpeed)))]),e._v(" "),n("div",{staticClass:"txt3"},[e._v(e._s(e.$t("message.lang_39")))])])]),e._v(" "),n("div",{staticClass:"left-down"},[n("div",{staticClass:"txt1"},[e._v(e._s(e.$t("message.lang_58")))]),e._v(" "),n("div",{staticClass:"txt2 txt3"},[n("p",[e._v("Contract Address：")]),e._v(" "),n("p",[n("a",{staticClass:"link",attrs:{target:"_blank",href:"https://etherscan.io/address/"+e.v.sContractAddress}},[e._v("\n              "+e._s(e._f("filterCutStrMid")(e.v.sContractAddress,16))+"\n            ")]),e._v(" "),n("i",{staticClass:"far fa-copy btn-copy",attrs:{id:"copyBtn"+e.idx,"data-clipboard-action":"copy","data-clipboard-text":e.v.sContractAddress}})])]),e._v(" "),n("div",{staticClass:"txt2"},[n("p",[e._v("Token ID：")]),e._v(" "),n("p",[e._v(e._s(e.v.sTokenId))])]),e._v(" "),n("div",{staticClass:"txt2"},[n("p",[e._v("Blockchain：")]),e._v(" "),n("p",[e._v(e._s(e.v.sBlockchain))])])])])]),e._v(" "),n("van-popup",{staticClass:"erac-popup-transfer",attrs:{closeable:""},model:{value:e.showTransfer,callback:function(t){e.showTransfer=t},expression:"showTransfer"}},[n("h2",{staticClass:"popup-title"},[e._v(e._s(e.$t("message.lang27")))]),e._v(" "),n("van-field",{staticClass:"popup-field",attrs:{clearable:"",placeholder:e.$t("message.lang23")},model:{value:e.toWallet,callback:function(t){e.toWallet=t},expression:"toWallet"}}),e._v(" "),n("van-button",{staticClass:"popup-btn",attrs:{disabled:!e.toWallet.length,loading:e.isTransferring},on:{click:e.handleTransfer}},[e._v(e._s(e.$t("message.lang22"))+"\n    ")])],1)],1)},staticRenderFns:[]};var je=n("VU/8")(We,Ge,!1,function(e){n("OOFd")},"data-v-31a8a679",null);t.a=je.exports},qkKv:function(e,t,n){var r=n("FeBl"),a=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},qyJz:function(e,t,n){"use strict";var r=n("+ZMJ"),a=n("kM2E"),s=n("sB3e"),i=n("msXi"),o=n("Mhyx"),c=n("QRG4"),u=n("fBQ2"),l=n("3fs2");a(a.S+a.F*!n("dY0y")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,a,f,h=s(e),p="function"==typeof this?this:Array,m=arguments.length,d=m>1?arguments[1]:void 0,g=void 0!==d,y=0,v=l(h);if(g&&(d=r(d,m>2?arguments[2]:void 0,2)),void 0==v||p==Array&&o(v))for(n=new p(t=c(h.length));t>y;y++)u(n,y,g?d(h[y],y):h[y]);else for(f=v.call(h),n=new p;!(a=f.next()).done;y++)u(n,y,g?i(f,d,[a.value,y],!0):a.value);return n.length=y,n}})}});