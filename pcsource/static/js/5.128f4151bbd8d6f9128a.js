webpackJsonp([5],{BSsv:function(e,t){},OBYE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("bSIt"),o=r("LoaF"),i=r("TIfe"),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var u={name:"favorite",data:function(){return{vList:[],iPageNo:0,iPageNum:8,iTotal:8,busy:!1}},components:{EraxCollection2:o.a},computed:a({},Object(n.b)(["token","userInfo","isUserLogin"])),watch:{token:function(e){return this.handleReset(),e}},mounted:function(){var e=this;return s(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$route.query.uWallet){t.next=3;break}if(e.$route.query.uUserId){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.getUserFavoriteItem();case 5:window.addEventListener("scroll",e.handleLoad);case 6:case"end":return t.stop()}},t,e)}))()},beforeDestroy:function(){window.removeEventListener("scroll",this.handleLoad)},methods:{handleLoad:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var r,n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.clientHeight||document.body.clientHeight,o=document.documentElement.scrollHeight||document.body.scrollHeight,!(r+n>=o-200)||e.busy){t.next=10;break}if(e.busy=!0,!(e.iPageNum<=e.iTotal)){t.next=9;break}return e.iPageNo++,t.next=9,e.getUserFavoriteItem();case 9:e.busy=!1;case 10:case"end":return t.stop()}},t,e)}))()},handleReset:function(){this.vList=[],this.iTotal=8,this.iPageNo=0,this.getUserFavoriteItem()},getUserFavoriteItem:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isUserLogin){t.next=3;break}return t.next=3,i.a.GetUserInfo();case 3:return t.next=5,e.$api.GetUserFavoriteItem({iPageNo:e.iPageNo,iPageNum:e.iPageNum,iUserId:parseInt(e.$route.query.uUserId)||e.userInfo.iUserId,sWallet:e.$route.query.uWallet||e.token});case 5:r=t.sent,e.iTotal=r.vItems.length,e.vList=e.vList.concat(r.vItems);case 8:case"end":return t.stop()}},t,e)}))()}}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"erax-collection-list"},[this.vList.length>0?this._l(this.vList,function(e,r){return t("EraxCollection2",{key:r,staticClass:"erax-collection",attrs:{editable:!1,collection:e,width:285}})}):t("div",{staticClass:"erax-sv-empty"},[t("img",{attrs:{src:r("2igd"),alt:""}})])],2)},staticRenderFns:[]};var l=r("C7Lr")(u,c,!1,function(e){r("BSsv")},"data-v-883c72e4",null);t.default=l.exports}});