webpackJsonp([26],{PoPT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Q3RE"),s=n("Tnm7");var a={data:function(){return{isDisabled:!0,usdt:0,input2:"",usdtAmount:"",rate:"",max:100,maxNera:0}},watch:{usdtAmount:function(e){e&&(e=(e+"").match(/^\d*(\.?\d{0,4})/g)[0]||null,this.usdtAmount=e)}},mounted:function(){var e,t=this;return(e=regeneratorRuntime.mark(function e(){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.GetSystemConfig({sAppId:"Erax-dev",sKey1:"NeraExchange"});case 2:return n=e.sent,a=n.vList,Object(s.o)(a),e.next=7,Object(r.j)();case 7:return t.usdt=e.sent,e.next=10,Object(r.o)(1);case 10:return t.rate=e.sent,e.next=13,Object(r.i)();case 13:t.maxNera=e.sent,t.max=t.maxNera/parseFloat(t.rate),t.isDisabled=!1;case 16:case"end":return e.stop()}},e,t)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(s,a){try{var o=t[s](a),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})})()},methods:{onFocus:function(){document.getElementsByClassName("usdt-input")[0].classList.add("shadow")},onBlur:function(){document.getElementsByClassName("usdt-input")[0].classList.remove("shadow")},handleExchange:function(){Object(r.n)(parseFloat(this.usdtAmount))},onInput:function(){this.usdtAmount=this.usdtAmount.match(/^\d*(\.?\d{0,4})/g)[0]||null,this.usdtAmount>Math.min(this.usdt,this.max)&&(this.usdtAmount=Math.min(this.usdt,this.max)),parseFloat(this.usdtAmount)?(this.input2=parseFloat(this.usdtAmount)*parseFloat(this.rate),this.input2=parseFloat(parseFloat(this.input2).toFixed(4))):this.input2=""}}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"swap"},[r("div",{staticClass:"container"},[r("div",{staticClass:"title"},[e._v(e._s(e.$t("message.assets_lang_134")))]),e._v(" "),r("div",{staticClass:"have"},[e._v(e._s(e.$t("message.assets_lang_135"))),r("span",{staticClass:"weight"},[e._v(e._s(e.usdt))]),e._v(" USDT")]),e._v(" "),r("el-input",{staticClass:"usdt-input",attrs:{max:e.usdt,type:"number",disabled:e.isDisabled},on:{input:e.onInput,focus:e.onFocus,blur:e.onBlur},model:{value:e.usdtAmount,callback:function(t){e.usdtAmount=t},expression:"usdtAmount"}},[r("template",{slot:"prepend"},[r("div",{staticClass:"coin"},[r("img",{attrs:{src:n("SPDX"),alt:""}}),e._v(" "),r("span",[e._v("USDT")])])])],2),e._v(" "),r("img",{staticClass:"arrow",attrs:{src:n("MmaJ"),alt:""}}),e._v(" "),r("el-input",{staticClass:"NERA",attrs:{readonly:""},model:{value:e.input2,callback:function(t){e.input2=t},expression:"input2"}},[r("template",{slot:"prepend"},[r("div",{staticClass:"coin"},[r("img",{attrs:{src:n("jzCB"),alt:""}}),e._v(" "),r("span",[e._v("NERA")])])])],2),e._v(" "),r("div",{staticClass:"rate"},[r("span",[e._v(e._s(e.$t("message.assets_lang_136")))]),e._v(" "),r("span",[e._v("1 USDT = "+e._s(e.rate)+"NERA")])]),e._v(" "),r("el-button",{staticClass:"exchange",attrs:{type:"primary",disabled:!e.usdtAmount},on:{click:e.handleExchange}},[e._v(e._s(e.$t("message.assets_lang_134"))+"\n        ")]),e._v(" "),r("div",{staticClass:"tips"},[e._v("\n            "+e._s(e.$t("message.assets_lang_137"))),r("br"),e._v("\n            "+e._s(e.$t("message.assets_lang_138").replace("{0}",e.maxNera))+"\n        ")])],1)])},staticRenderFns:[]};var i=n("C7Lr")(a,o,!1,function(e){n("fZfN")},"data-v-c79efbe0",null);t.default=i.exports},Q3RE:function(e,t,n){"use strict";var r=n("ytf2"),s=n("Tnm7"),a=(n("IcnI"),n("yf3K")),o=n("lMj/");const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function u(e,t,n,r){let s,a,o;const i=t||[0],u=(n=n||0)>>>3,c=-1===r?3:0;for(s=0;s<e.length;s+=1)a=(o=s+u)>>>2,i.length<=a&&i.push(0),i[a]|=e[s]<<8*(c+r*(o%4));return{value:i,binLen:8*e.length+n}}function c(e,t,n){switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":return function(e,t,r){return function(e,t,n,r){let s,a,o,i;if(0!=e.length%2)throw new Error("String of HEX type must be in byte increments");const u=t||[0],c=(n=n||0)>>>3,l=-1===r?3:0;for(s=0;s<e.length;s+=2){if(a=parseInt(e.substr(s,2),16),isNaN(a))throw new Error("String of HEX type contains invalid characters");for(o=(i=(s>>>1)+c)>>>2;u.length<=o;)u.push(0);u[o]|=a<<8*(l+r*(i%4))}return{value:u,binLen:4*e.length+n}}(e,t,r,n)};case"TEXT":return function(e,r,s){return function(e,t,n,r,s){let a,o,i,u,c,l,h,p,f=0;const m=n||[0],d=(r=r||0)>>>3;if("UTF8"===t)for(h=-1===s?3:0,i=0;i<e.length;i+=1)for(o=[],128>(a=e.charCodeAt(i))?o.push(a):2048>a?(o.push(192|a>>>6),o.push(128|63&a)):55296>a||57344<=a?o.push(224|a>>>12,128|a>>>6&63,128|63&a):(i+=1,a=65536+((1023&a)<<10|1023&e.charCodeAt(i)),o.push(240|a>>>18,128|a>>>12&63,128|a>>>6&63,128|63&a)),u=0;u<o.length;u+=1){for(c=(l=f+d)>>>2;m.length<=c;)m.push(0);m[c]|=o[u]<<8*(h+s*(l%4)),f+=1}else for(h=-1===s?2:0,p="UTF16LE"===t&&1!==s||"UTF16LE"!==t&&1===s,i=0;i<e.length;i+=1){for(a=e.charCodeAt(i),!0===p&&(a=(u=255&a)<<8|a>>>8),c=(l=f+d)>>>2;m.length<=c;)m.push(0);m[c]|=a<<8*(h+s*(l%4)),f+=2}return{value:m,binLen:8*f+r}}(e,t,r,s,n)};case"B64":return function(e,t,r){return function(e,t,n,r){let s,a,o,u,c,l,h,p=0;const f=t||[0],m=(n=n||0)>>>3,d=-1===r?3:0,g=e.indexOf("=");if(-1===e.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(e=e.replace(/=/g,""),-1!==g&&g<e.length)throw new Error("Invalid '=' found in base-64 string");for(a=0;a<e.length;a+=4){for(c=e.substr(a,4),u=0,o=0;o<c.length;o+=1)u|=(s=i.indexOf(c.charAt(o)))<<18-6*o;for(o=0;o<c.length-1;o+=1){for(l=(h=p+m)>>>2;f.length<=l;)f.push(0);f[l]|=(u>>>16-8*o&255)<<8*(d+r*(h%4)),p+=1}}return{value:f,binLen:8*p+n}}(e,t,r,n)};case"BYTES":return function(e,t,r){return function(e,t,n,r){let s,a,o,i;const u=t||[0],c=(n=n||0)>>>3,l=-1===r?3:0;for(a=0;a<e.length;a+=1)s=e.charCodeAt(a),o=(i=a+c)>>>2,u.length<=o&&u.push(0),u[o]|=s<<8*(l+r*(i%4));return{value:u,binLen:8*e.length+n}}(e,t,r,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(e){throw new Error("ARRAYBUFFER not supported by this environment")}return function(e,t,r){return function(e,t,n,r){return u(new Uint8Array(e),t,n,r)}(e,t,r,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(e){throw new Error("UINT8ARRAY not supported by this environment")}return function(e,t,r){return u(e,t,r,n)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function l(e,t,n,r){switch(e){case"HEX":return function(e){return function(e,t,n,r){let s,a,o="";const i=t/8,u=-1===n?3:0;for(s=0;s<i;s+=1)a=e[s>>>2]>>>8*(u+n*(s%4)),o+="0123456789abcdef".charAt(a>>>4&15)+"0123456789abcdef".charAt(15&a);return r.outputUpper?o.toUpperCase():o}(e,t,n,r)};case"B64":return function(e){return function(e,t,n,r){let s,a,o,u,c,l="";const h=t/8,p=-1===n?3:0;for(s=0;s<h;s+=3)for(u=s+1<h?e[s+1>>>2]:0,c=s+2<h?e[s+2>>>2]:0,o=(e[s>>>2]>>>8*(p+n*(s%4))&255)<<16|(u>>>8*(p+n*((s+1)%4))&255)<<8|c>>>8*(p+n*((s+2)%4))&255,a=0;a<4;a+=1)l+=8*s+6*a<=t?i.charAt(o>>>6*(3-a)&63):r.b64Pad;return l}(e,t,n,r)};case"BYTES":return function(e){return function(e,t,n){let r,s,a="";const o=t/8,i=-1===n?3:0;for(r=0;r<o;r+=1)s=e[r>>>2]>>>8*(i+n*(r%4))&255,a+=String.fromCharCode(s);return a}(e,t,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(e){throw new Error("ARRAYBUFFER not supported by this environment")}return function(e){return function(e,t,n){let r;const s=t/8,a=new ArrayBuffer(s),o=new Uint8Array(a),i=-1===n?3:0;for(r=0;r<s;r+=1)o[r]=e[r>>>2]>>>8*(i+n*(r%4))&255;return a}(e,t,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(e){throw new Error("UINT8ARRAY not supported by this environment")}return function(e){return function(e,t,n){let r;const s=t/8,a=-1===n?3:0,o=new Uint8Array(s);for(r=0;r<s;r+=1)o[r]=e[r>>>2]>>>8*(a+n*(r%4))&255;return o}(e,t,n)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],f=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],m="Chosen SHA variant is not supported";function d(e,t){let n,r;const s=e.binLen>>>3,a=t.binLen>>>3,o=s<<3,i=4-s<<3;if(s%4!=0){for(n=0;n<a;n+=4)r=s+n>>>2,e.value[r]|=t.value[n>>>2]<<o,e.value.push(0),e.value[r+1]|=t.value[n>>>2]>>>i;return(e.value.length<<2)-4>=a+s&&e.value.pop(),{value:e.value,binLen:e.binLen+t.binLen}}return{value:e.value.concat(t.value),binLen:e.binLen+t.binLen}}function g(e){const t={outputUpper:!1,b64Pad:"=",outputLen:-1},n=e||{},r="Output length must be a multiple of 8";if(t.outputUpper=n.outputUpper||!1,n.b64Pad&&(t.b64Pad=n.b64Pad),n.outputLen){if(n.outputLen%8!=0)throw new Error(r);t.outputLen=n.outputLen}else if(n.shakeLen){if(n.shakeLen%8!=0)throw new Error(r);t.outputLen=n.shakeLen}if("boolean"!=typeof t.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw new Error("Invalid b64Pad formatting option");return t}function w(e,t,n,r){const s=e+" must include a value and format";if(!t){if(!r)throw new Error(s);return r}if(void 0===t.value||!t.format)throw new Error(s);return c(t.format,t.encoding||"UTF8",n)(t.value)}class b{constructor(e,t,n){const r=n||{};if(this.t=t,this.i=r.encoding||"UTF8",this.numRounds=r.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.s=e,this.o=[],this.h=0,this.u=!1,this.l=0,this.A=!1,this.H=[],this.S=[]}update(e){let t,n=0;const r=this.p>>>5,s=this.m(e,this.o,this.h),a=s.binLen,o=s.value,i=a>>>5;for(t=0;t<i;t+=r)n+this.p<=a&&(this.C=this.R(o.slice(t,t+r),this.C),n+=this.p);this.l+=n,this.o=o.slice(n>>>5),this.h=a%this.p,this.u=!0}getHash(e,t){let n,r,s=this.U;const a=g(t);if(this.v){if(-1===a.outputLen)throw new Error("Output length must be specified in options");s=a.outputLen}const o=l(e,s,this.K,a);if(this.A&&this.T)return o(this.T(a));for(r=this.F(this.o.slice(),this.h,this.l,this.g(this.C),s),n=1;n<this.numRounds;n+=1)this.v&&s%32!=0&&(r[r.length-1]&=16777215>>>24-s%32),r=this.F(r,s,0,this.B(this.s),s);return o(r)}setHMACKey(e,t,n){if(!this.L)throw new Error("Variant does not support HMAC");if(this.u)throw new Error("Cannot set MAC key after calling update");const r=c(t,(n||{}).encoding||"UTF8",this.K);this.M(r(e))}M(e){const t=this.p>>>3,n=t/4-1;let r;if(1!==this.numRounds)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(t<e.binLen/8&&(e.value=this.F(e.value,e.binLen,0,this.B(this.s),this.U));e.value.length<=n;)e.value.push(0);for(r=0;r<=n;r+=1)this.H[r]=909522486^e.value[r],this.S[r]=1549556828^e.value[r];this.C=this.R(this.H,this.C),this.l=this.p,this.A=!0}getHMAC(e,t){const n=g(t);return l(e,this.U,this.K,n)(this.k())}k(){let e;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");const t=this.F(this.o.slice(),this.h,this.l,this.g(this.C),this.U);return e=this.R(this.S,this.B(this.s)),e=this.F(t,this.U,this.p,e,this.U)}}function y(e,t){return e<<t|e>>>32-t}function x(e,t){return e>>>t|e<<32-t}function v(e,t){return e>>>t}function k(e,t,n){return e^t^n}function A(e,t,n){return e&t^~e&n}function N(e,t,n){return e&t^e&n^t&n}function O(e){return x(e,2)^x(e,13)^x(e,22)}function T(e,t){const n=(65535&e)+(65535&t);return(65535&(e>>>16)+(t>>>16)+(n>>>16))<<16|65535&n}function S(e,t,n,r){const s=(65535&e)+(65535&t)+(65535&n)+(65535&r);return(65535&(e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(s>>>16))<<16|65535&s}function C(e,t,n,r,s){const a=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&s);return(65535&(e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(s>>>16)+(a>>>16))<<16|65535&a}function R(e){return x(e,7)^x(e,18)^v(e,3)}function H(e){return x(e,6)^x(e,11)^x(e,25)}function $(e){return[1732584193,4023233417,2562383102,271733878,3285377520]}function F(e,t){let n,r,s,a,o,i,u;const c=[];for(n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],u=0;u<80;u+=1)c[u]=u<16?e[u]:y(c[u-3]^c[u-8]^c[u-14]^c[u-16],1),i=u<20?C(y(n,5),A(r,s,a),o,1518500249,c[u]):u<40?C(y(n,5),k(r,s,a),o,1859775393,c[u]):u<60?C(y(n,5),N(r,s,a),o,2400959708,c[u]):C(y(n,5),k(r,s,a),o,3395469782,c[u]),o=a,a=s,s=y(r,30),r=n,n=i;return t[0]=T(n,t[0]),t[1]=T(r,t[1]),t[2]=T(s,t[2]),t[3]=T(a,t[3]),t[4]=T(o,t[4]),t}function L(e,t,n,r){let s;const a=15+(t+65>>>9<<4),o=t+n;for(;e.length<=a;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[a]=4294967295&o,e[a-1]=o/4294967296|0,s=0;s<e.length;s+=16)r=F(e.slice(s,s+16),r);return r}class E extends b{constructor(e,t,n){if("SHA-1"!==e)throw new Error(m);super(e,t,n);const r=n||{};this.L=!0,this.T=this.k,this.K=-1,this.m=c(this.t,this.i,this.K),this.R=F,this.g=function(e){return e.slice()},this.B=$,this.F=L,this.C=[1732584193,4023233417,2562383102,271733878,3285377520],this.p=512,this.U=160,this.v=!1,r.hmacKey&&this.M(w("hmacKey",r.hmacKey,this.K))}}function I(e){let t;return t="SHA-224"==e?p.slice():f.slice()}function _(e,t){let n,r,s,a,o,i,u,c,l,p,f;const m=[];for(n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],i=t[5],u=t[6],c=t[7],f=0;f<64;f+=1)m[f]=f<16?e[f]:S(x(d=m[f-2],17)^x(d,19)^v(d,10),m[f-7],R(m[f-15]),m[f-16]),l=C(c,H(o),A(o,i,u),h[f],m[f]),p=T(O(n),N(n,r,s)),c=u,u=i,i=o,o=T(a,l),a=s,s=r,r=n,n=T(l,p);var d;return t[0]=T(n,t[0]),t[1]=T(r,t[1]),t[2]=T(s,t[2]),t[3]=T(a,t[3]),t[4]=T(o,t[4]),t[5]=T(i,t[5]),t[6]=T(u,t[6]),t[7]=T(c,t[7]),t}class P extends b{constructor(e,t,n){if("SHA-224"!==e&&"SHA-256"!==e)throw new Error(m);super(e,t,n);const r=n||{};this.T=this.k,this.L=!0,this.K=-1,this.m=c(this.t,this.i,this.K),this.R=_,this.g=function(e){return e.slice()},this.B=I,this.F=function(t,n,r,s){return function(e,t,n,r,s){let a,o;const i=15+(t+65>>>9<<4),u=t+n;for(;e.length<=i;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[i]=4294967295&u,e[i-1]=u/4294967296|0,a=0;a<e.length;a+=16)r=_(e.slice(a,a+16),r);return o="SHA-224"===s?[r[0],r[1],r[2],r[3],r[4],r[5],r[6]]:r}(t,n,r,s,e)},this.C=I(e),this.p=512,this.U="SHA-224"===e?224:256,this.v=!1,r.hmacKey&&this.M(w("hmacKey",r.hmacKey,this.K))}}class Y{constructor(e,t){this.Y=e,this.N=t}}function K(e,t){let n;return t>32?(n=64-t,new Y(e.N<<t|e.Y>>>n,e.Y<<t|e.N>>>n)):0!==t?(n=32-t,new Y(e.Y<<t|e.N>>>n,e.N<<t|e.Y>>>n)):e}function D(e,t){let n;return t<32?(n=32-t,new Y(e.Y>>>t|e.N<<n,e.N>>>t|e.Y<<n)):(n=64-t,new Y(e.N>>>t|e.Y<<n,e.Y>>>t|e.N<<n))}function U(e,t){return new Y(e.Y>>>t,e.N>>>t|e.Y<<32-t)}function J(e,t,n){return new Y(e.Y&t.Y^e.Y&n.Y^t.Y&n.Y,e.N&t.N^e.N&n.N^t.N&n.N)}function G(e){const t=D(e,28),n=D(e,34),r=D(e,39);return new Y(t.Y^n.Y^r.Y,t.N^n.N^r.N)}function B(e,t){let n,r;n=(65535&e.N)+(65535&t.N);const s=(65535&(r=(e.N>>>16)+(t.N>>>16)+(n>>>16)))<<16|65535&n;return n=(65535&e.Y)+(65535&t.Y)+(r>>>16),r=(e.Y>>>16)+(t.Y>>>16)+(n>>>16),new Y((65535&r)<<16|65535&n,s)}function M(e,t,n,r){let s,a;s=(65535&e.N)+(65535&t.N)+(65535&n.N)+(65535&r.N);const o=(65535&(a=(e.N>>>16)+(t.N>>>16)+(n.N>>>16)+(r.N>>>16)+(s>>>16)))<<16|65535&s;return s=(65535&e.Y)+(65535&t.Y)+(65535&n.Y)+(65535&r.Y)+(a>>>16),a=(e.Y>>>16)+(t.Y>>>16)+(n.Y>>>16)+(r.Y>>>16)+(s>>>16),new Y((65535&a)<<16|65535&s,o)}function W(e,t,n,r,s){let a,o;a=(65535&e.N)+(65535&t.N)+(65535&n.N)+(65535&r.N)+(65535&s.N);const i=(65535&(o=(e.N>>>16)+(t.N>>>16)+(n.N>>>16)+(r.N>>>16)+(s.N>>>16)+(a>>>16)))<<16|65535&a;return a=(65535&e.Y)+(65535&t.Y)+(65535&n.Y)+(65535&r.Y)+(65535&s.Y)+(o>>>16),o=(e.Y>>>16)+(t.Y>>>16)+(n.Y>>>16)+(r.Y>>>16)+(s.Y>>>16)+(a>>>16),new Y((65535&o)<<16|65535&a,i)}function j(e,t){return new Y(e.Y^t.Y,e.N^t.N)}function q(e){const t=D(e,19),n=D(e,61),r=U(e,6);return new Y(t.Y^n.Y^r.Y,t.N^n.N^r.N)}function X(e){const t=D(e,1),n=D(e,8),r=U(e,7);return new Y(t.Y^n.Y^r.Y,t.N^n.N^r.N)}function z(e){const t=D(e,14),n=D(e,18),r=D(e,41);return new Y(t.Y^n.Y^r.Y,t.N^n.N^r.N)}const Z=[new Y(h[0],3609767458),new Y(h[1],602891725),new Y(h[2],3964484399),new Y(h[3],2173295548),new Y(h[4],4081628472),new Y(h[5],3053834265),new Y(h[6],2937671579),new Y(h[7],3664609560),new Y(h[8],2734883394),new Y(h[9],1164996542),new Y(h[10],1323610764),new Y(h[11],3590304994),new Y(h[12],4068182383),new Y(h[13],991336113),new Y(h[14],633803317),new Y(h[15],3479774868),new Y(h[16],2666613458),new Y(h[17],944711139),new Y(h[18],2341262773),new Y(h[19],2007800933),new Y(h[20],1495990901),new Y(h[21],1856431235),new Y(h[22],3175218132),new Y(h[23],2198950837),new Y(h[24],3999719339),new Y(h[25],766784016),new Y(h[26],2566594879),new Y(h[27],3203337956),new Y(h[28],1034457026),new Y(h[29],2466948901),new Y(h[30],3758326383),new Y(h[31],168717936),new Y(h[32],1188179964),new Y(h[33],1546045734),new Y(h[34],1522805485),new Y(h[35],2643833823),new Y(h[36],2343527390),new Y(h[37],1014477480),new Y(h[38],1206759142),new Y(h[39],344077627),new Y(h[40],1290863460),new Y(h[41],3158454273),new Y(h[42],3505952657),new Y(h[43],106217008),new Y(h[44],3606008344),new Y(h[45],1432725776),new Y(h[46],1467031594),new Y(h[47],851169720),new Y(h[48],3100823752),new Y(h[49],1363258195),new Y(h[50],3750685593),new Y(h[51],3785050280),new Y(h[52],3318307427),new Y(h[53],3812723403),new Y(h[54],2003034995),new Y(h[55],3602036899),new Y(h[56],1575990012),new Y(h[57],1125592928),new Y(h[58],2716904306),new Y(h[59],442776044),new Y(h[60],593698344),new Y(h[61],3733110249),new Y(h[62],2999351573),new Y(h[63],3815920427),new Y(3391569614,3928383900),new Y(3515267271,566280711),new Y(3940187606,3454069534),new Y(4118630271,4000239992),new Y(116418474,1914138554),new Y(174292421,2731055270),new Y(289380356,3203993006),new Y(460393269,320620315),new Y(685471733,587496836),new Y(852142971,1086792851),new Y(1017036298,365543100),new Y(1126000580,2618297676),new Y(1288033470,3409855158),new Y(1501505948,4234509866),new Y(1607167915,987167468),new Y(1816402316,1246189591)];function Q(e){return"SHA-384"===e?[new Y(3418070365,p[0]),new Y(1654270250,p[1]),new Y(2438529370,p[2]),new Y(355462360,p[3]),new Y(1731405415,p[4]),new Y(41048885895,p[5]),new Y(3675008525,p[6]),new Y(1203062813,p[7])]:[new Y(f[0],4089235720),new Y(f[1],2227873595),new Y(f[2],4271175723),new Y(f[3],1595750129),new Y(f[4],2917565137),new Y(f[5],725511199),new Y(f[6],4215389547),new Y(f[7],327033209)]}function V(e,t){let n,r,s,a,o,i,u,c,l,h,p,f;const m=[];for(n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],i=t[5],u=t[6],c=t[7],p=0;p<80;p+=1)p<16?(f=2*p,m[p]=new Y(e[f],e[f+1])):m[p]=M(q(m[p-2]),m[p-7],X(m[p-15]),m[p-16]),l=W(c,z(o),(g=i,w=u,new Y((d=o).Y&g.Y^~d.Y&w.Y,d.N&g.N^~d.N&w.N)),Z[p],m[p]),h=B(G(n),J(n,r,s)),c=u,u=i,i=o,o=B(a,l),a=s,s=r,r=n,n=B(l,h);var d,g,w;return t[0]=B(n,t[0]),t[1]=B(r,t[1]),t[2]=B(s,t[2]),t[3]=B(a,t[3]),t[4]=B(o,t[4]),t[5]=B(i,t[5]),t[6]=B(u,t[6]),t[7]=B(c,t[7]),t}class ee extends b{constructor(e,t,n){if("SHA-384"!==e&&"SHA-512"!==e)throw new Error(m);super(e,t,n);const r=n||{};this.T=this.k,this.L=!0,this.K=-1,this.m=c(this.t,this.i,this.K),this.R=V,this.g=function(e){return e.slice()},this.B=Q,this.F=function(t,n,r,s){return function(e,t,n,r,s){let a,o;const i=31+(t+129>>>10<<5),u=t+n;for(;e.length<=i;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[i]=4294967295&u,e[i-1]=u/4294967296|0,a=0;a<e.length;a+=32)r=V(e.slice(a,a+32),r);return o="SHA-384"===s?[(r=r)[0].Y,r[0].N,r[1].Y,r[1].N,r[2].Y,r[2].N,r[3].Y,r[3].N,r[4].Y,r[4].N,r[5].Y,r[5].N]:[r[0].Y,r[0].N,r[1].Y,r[1].N,r[2].Y,r[2].N,r[3].Y,r[3].N,r[4].Y,r[4].N,r[5].Y,r[5].N,r[6].Y,r[6].N,r[7].Y,r[7].N]}(t,n,r,s,e)},this.C=Q(e),this.p=1024,this.U="SHA-384"===e?384:512,this.v=!1,r.hmacKey&&this.M(w("hmacKey",r.hmacKey,this.K))}}const te=[new Y(0,1),new Y(0,32898),new Y(2147483648,32906),new Y(2147483648,2147516416),new Y(0,32907),new Y(0,2147483649),new Y(2147483648,2147516545),new Y(2147483648,32777),new Y(0,138),new Y(0,136),new Y(0,2147516425),new Y(0,2147483658),new Y(0,2147516555),new Y(2147483648,139),new Y(2147483648,32905),new Y(2147483648,32771),new Y(2147483648,32770),new Y(2147483648,128),new Y(0,32778),new Y(2147483648,2147483658),new Y(2147483648,2147516545),new Y(2147483648,32896),new Y(0,2147483649),new Y(2147483648,2147516424)],ne=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function re(e){let t;const n=[];for(t=0;t<5;t+=1)n[t]=[new Y(0,0),new Y(0,0),new Y(0,0),new Y(0,0),new Y(0,0)];return n}function se(e){let t;const n=[];for(t=0;t<5;t+=1)n[t]=e[t].slice();return n}function ae(e,t){let n,r,s,a;const o=[],i=[];if(null!==e)for(r=0;r<e.length;r+=2)t[(r>>>1)%5][(r>>>1)/5|0]=j(t[(r>>>1)%5][(r>>>1)/5|0],new Y(e[r+1],e[r]));for(n=0;n<24;n+=1){for(a=re(),r=0;r<5;r+=1)o[r]=(u=t[r][0],c=t[r][1],l=t[r][2],h=t[r][3],p=t[r][4],new Y(u.Y^c.Y^l.Y^h.Y^p.Y,u.N^c.N^l.N^h.N^p.N));for(r=0;r<5;r+=1)i[r]=j(o[(r+4)%5],K(o[(r+1)%5],1));for(r=0;r<5;r+=1)for(s=0;s<5;s+=1)t[r][s]=j(t[r][s],i[r]);for(r=0;r<5;r+=1)for(s=0;s<5;s+=1)a[s][(2*r+3*s)%5]=K(t[r][s],ne[r][s]);for(r=0;r<5;r+=1)for(s=0;s<5;s+=1)t[r][s]=j(a[r][s],new Y(~a[(r+1)%5][s].Y&a[(r+2)%5][s].Y,~a[(r+1)%5][s].N&a[(r+2)%5][s].N));t[0][0]=j(t[0][0],te[n])}var u,c,l,h,p;return t}function oe(e){let t,n,r=0;const s=[0,0],a=[4294967295&e,e/4294967296&2097151];for(t=6;t>=0;t--)0===(n=a[t>>2]>>>8*t&255)&&0===r||(s[r+1>>2]|=n<<8*(r+1),r+=1);return r=0!==r?r:1,s[0]|=r,{value:r+1>4?s:[s[0]],binLen:8+8*r}}function ie(e){return d(oe(e.binLen),e)}function ue(e,t){let n,r=oe(t);const s=t>>>2,a=(s-(r=d(r,e)).value.length%s)%s;for(n=0;n<a;n++)r.value.push(0);return r.value}class ce extends b{constructor(e,t,n){let r=6,s=0;super(e,t,n);const a=n||{};if(1!==this.numRounds){if(a.kmacKey||a.hmacKey)throw new Error("Cannot set numRounds with MAC");if("CSHAKE128"===this.s||"CSHAKE256"===this.s)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.K=1,this.m=c(this.t,this.i,this.K),this.R=ae,this.g=se,this.B=re,this.C=re(),this.v=!1,e){case"SHA3-224":this.p=s=1152,this.U=224,this.L=!0,this.T=this.k;break;case"SHA3-256":this.p=s=1088,this.U=256,this.L=!0,this.T=this.k;break;case"SHA3-384":this.p=s=832,this.U=384,this.L=!0,this.T=this.k;break;case"SHA3-512":this.p=s=576,this.U=512,this.L=!0,this.T=this.k;break;case"SHAKE128":r=31,this.p=s=1344,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"SHAKE256":r=31,this.p=s=1088,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"KMAC128":r=4,this.p=s=1344,this.I(n),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"KMAC256":r=4,this.p=s=1088,this.I(n),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"CSHAKE128":this.p=s=1344,r=this._(n),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"CSHAKE256":this.p=s=1088,r=this._(n),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;default:throw new Error(m)}this.F=function(e,t,n,a,o){return function(e,t,n,r,s,a,o){let i,u,c=0;const l=[],h=s>>>5,p=t>>>5;for(i=0;i<p&&t>=s;i+=h)r=ae(e.slice(i,i+h),r),t-=s;for(e=e.slice(i),t%=s;e.length<h;)e.push(0);for(e[(i=t>>>3)>>2]^=a<<i%4*8,e[h-1]^=2147483648,r=ae(e,r);32*l.length<o&&(u=r[c%5][c/5|0],l.push(u.N),!(32*l.length>=o));)l.push(u.Y),0==64*(c+=1)%s&&(ae(null,r),c=0);return l}(e,t,0,a,s,r,o)},a.hmacKey&&this.M(w("hmacKey",a.hmacKey,this.K))}_(e,t){const n=function(e){const t=e||{};return{funcName:w("funcName",t.funcName,1,{value:[],binLen:0}),customization:w("Customization",t.customization,1,{value:[],binLen:0})}}(e||{});t&&(n.funcName=t);const r=d(ie(n.funcName),ie(n.customization));if(0!==n.customization.binLen||0!==n.funcName.binLen){const e=ue(r,this.p>>>3);for(let t=0;t<e.length;t+=this.p>>>5)this.C=this.R(e.slice(t,t+(this.p>>>5)),this.C),this.l+=this.p;return 4}return 31}I(e){const t=function(e){const t=e||{};return{kmacKey:w("kmacKey",t.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:w("Customization",t.customization,1,{value:[],binLen:0})}}(e||{});this._(e,t.funcName);const n=ue(ie(t.kmacKey),this.p>>>3);for(let e=0;e<n.length;e+=this.p>>>5)this.C=this.R(n.slice(e,e+(this.p>>>5)),this.C),this.l+=this.p;this.A=!0}X(e){const t=d({value:this.o.slice(),binLen:this.h},function(e){let t,n,r=0;const s=[0,0],a=[4294967295&e,e/4294967296&2097151];for(t=6;t>=0;t--)0===(n=a[t>>2]>>>8*t&255)&&0===r||(s[r>>2]|=n<<8*r,r+=1);return s[(r=0!==r?r:1)>>2]|=r<<8*r,{value:r+1>4?s:[s[0]],binLen:8+8*r}}(e.outputLen));return this.F(t.value,t.binLen,this.l,this.g(this.C),e.outputLen)}}var le=class{constructor(e,t,n){if("SHA-1"==e)this.O=new E(e,t,n);else if("SHA-224"==e||"SHA-256"==e)this.O=new P(e,t,n);else if("SHA-384"==e||"SHA-512"==e)this.O=new ee(e,t,n);else{if("SHA3-224"!=e&&"SHA3-256"!=e&&"SHA3-384"!=e&&"SHA3-512"!=e&&"SHAKE128"!=e&&"SHAKE256"!=e&&"CSHAKE128"!=e&&"CSHAKE256"!=e&&"KMAC128"!=e&&"KMAC256"!=e)throw new Error(m);this.O=new ce(e,t,n)}}update(e){this.O.update(e)}getHash(e,t){return this.O.getHash(e,t)}setHMACKey(e,t,n){this.O.setHMACKey(e,t,n)}getHMAC(e,t){return this.O.getHMAC(e,t)}};n.d(t,"e",function(){return Ne}),n.d(t,"f",function(){return Oe}),n.d(t,"b",function(){return Te}),n.d(t,"d",function(){return Se}),n.d(t,"c",function(){return Ce}),n.d(t,"l",function(){return Re}),n.d(t,"m",function(){return He}),n.d(t,"k",function(){return De}),n.d(t,"a",function(){return Ue}),n.d(t,"g",function(){return Je}),n.d(t,"h",function(){return Ge}),n.d(t,"j",function(){return Be}),n.d(t,"o",function(){return Me}),n.d(t,"i",function(){return We}),n.d(t,"n",function(){return je});var he,pe,fe=(he=ge(regeneratorRuntime.mark(function e(t,n,r){var i,u,c,l,h,p,f,m,d,g,w,b,y,x,v,k,A,N,O,T,S,C,R,H;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.prototype.$event.$emit("SHOW-LOADING",!0),e.next=3,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 3:return c=e.sent,l=c[0],h=Object(s.i)(n),r=web3.utils.toHex(r),t.maker=l,t.makerRelayerFee=r,t.target=n,t.side="1",t.replacementPattern=h.sSellReplacementPattern,t.salt=web3.utils.randomHex(32),p=new Date,t.listingTime=web3.utils.toHex(Math.round(p.getTime()/1e3)),t.feeRecipient=s.h,e.next=18,web3.eth.getGasPrice();case 18:return f=e.sent,console.log("推荐gas费==="+f),m=new web3.eth.Contract(JSON.parse(s.s),s.a),e.next=23,m.methods.proxies(l).call();case 23:if((d=e.sent)!=s.c){e.next=31;break}return console.log("跳转注册!"),e.next=28,m.methods.registerProxy().send({from:l,gasPrice:f,gas:7e5},function(e,t){if(e)return console.log("register报错"),a.default.prototype.$message.error("资产注册失败"),a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 28:return e.next=30,m.methods.proxies(l).call();case 30:d=e.sent;case 31:if(d!=s.c){e.next=36;break}return console.log("未注册!"),e.abrupt("return",!1);case 36:console.log("ownableDelegateProxy:"+d),console.log("已注册!");case 38:if(t.paymentToken===s.c){e.next=56;break}return g=new web3.eth.Contract(JSON.parse(s.t),t.paymentToken),e.next=42,g.methods.allowance(l,s.b).call();case 42:if("0"!=(w=e.sent)){e.next=50;break}return console.log("跳转ERC20授权!"),e.next=47,g.methods.approve(s.b,"10000000000000000000000").send({from:l,gasPrice:f},function(e,t){if(e)return a.default.prototype.$event.$emit("SHOW-LOADING",!1),console.log("授权报错"),a.default.prototype.$message.error(o.a.t("message.assets_lang_90")),!1});case 47:return e.next=49,g.methods.allowance(l,s.b).call();case 49:w=e.sent;case 50:if("0"!=w){e.next=55;break}return console.log("ERC20未授权!"),e.abrupt("return",!1);case 55:console.log("ERC20已授权!");case 56:if(b=new web3.eth.Contract(JSON.parse(h.sAbi),n),y="","1155"!==h.sTypeCode&&"721"!==h.sTypeCode){e.next=78;break}return e.next=61,b.methods.isApprovedForAll(l,d).call();case 61:if(x=e.sent){e.next=69;break}return console.log("跳转资产授权!"),e.next=66,b.methods.setApprovalForAll(d,!0).send({from:l,gasPrice:f},function(e,t){if(e)return a.default.prototype.$event.$emit("SHOW-LOADING",!1),a.default.prototype.$message.error(o.a.t("message.assets_lang_91")),!1});case 66:return e.next=68,b.methods.isApprovedForAll(l,d).call();case 68:x=e.sent;case 69:if(x){e.next=74;break}return console.log("资产未授权!"),e.abrupt("return",!1);case 74:console.log("资产已授权!");case 75:"1155"===h.sTypeCode?y=web3.eth.abi.encodeFunctionCall(JSON.parse(h.sTransferAbi),[t.maker,t.taker,t.tokenId,"1",[]]):"721"===h.sTypeCode&&(y=web3.eth.abi.encodeFunctionCall(JSON.parse(h.sTransferAbi),[t.maker,t.taker,t.tokenId])),e.next=96;break;case 78:if("721-Kitty"!==h.sTypeCode){e.next=96;break}return e.next=81,b.methods.kittyIndexToApproved(t.tokenId).call();case 81:if((v=e.sent)==d){e.next=89;break}return console.log("跳转资产授权!"),e.next=86,b.methods.approve(d,t.tokenId).send({from:l,gasPrice:f},function(e,t){if(e)return a.default.prototype.$event.$emit("SHOW-LOADING",!1),a.default.prototype.$message.error(o.a.t("message.assets_lang_91")),!1});case 86:return e.next=88,b.methods.kittyIndexToApproved(t.tokenId).call();case 88:v=e.sent;case 89:if(v==d){e.next=94;break}return console.log("资产未授权!"),e.abrupt("return",!1);case 94:console.log("资产已授权!");case 95:y=web3.eth.abi.encodeFunctionCall(JSON.parse(h.sTransferAbi),[t.maker,t.taker,t.tokenId]);case 96:return console.log(y),t.calldata=y,k=new web3.eth.Contract(JSON.parse(s.g),t.exchange),A=$e(t),e.next=102,(i=k.methods).validateOrderParameters_.apply(i,de(A)).call();case 102:return e.sent&&console.log("validateOrderParameters 成功"),e.next=106,(u=k.methods).hashOrder_.apply(u,de(A)).call();case 106:return N=e.sent,console.log("sell hash:"+N),e.next=110,web3.eth.personal.sign(N,l,function(e,t){if(e)return a.default.prototype.$event.$emit("SHOW-LOADING",!1),console.log("签名报错"),!1});case 110:return O=e.sent,T=O.substring(2),S="0x"+T.substring(0,64),C="0x"+T.substring(64,128),R="0x"+T.substring(128,130),H={hash:N,r:S,s:C,v:R},console.log("售卖成功"),a.default.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",{sSellOrder:JSON.stringify(t),sSellSig:JSON.stringify(H)});case 119:case"end":return e.stop()}},e,this)})),function(e,t,n){return he.apply(this,arguments)}),me=(pe=ge(regeneratorRuntime.mark(function e(t,n,r){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=0,n!=s.c){e.next=7;break}return e.next=4,web3.eth.getBalance(r);case 4:a=e.sent,e.next=11;break;case 7:return o=new web3.eth.Contract(JSON.parse(s.t),n),e.next=10,o.methods.balanceOf(r).call().catch(function(e){if(e)return!1});case 10:a=e.sent;case 11:if(t=web3.utils.hexToNumberString(t),!(parseFloat(a)<parseFloat(t))&&parseFloat(a)){e.next=14;break}return e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}},e,this)})),function(e,t,n){return pe.apply(this,arguments)});function de(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function ge(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(s,a){try{var o=t[s](a),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}var we,be,ye,xe,ve,ke,Ae,Ne=(we=ge(regeneratorRuntime.mark(function e(t,n,a,o,i,u,c,l,h){var p,f,m,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.b)(),p=web3.utils.toWei(t),t=web3.utils.fromDecimal(p),f=web3.utils.toWei(n),n=web3.utils.fromDecimal(f),m=web3.utils.fromDecimal(parseInt(parseInt(a)/1e3)),(d=JSON.parse(JSON.stringify(s.r))).basePrice=t,d.expirationTime=m,d.saleKind="1",d.extra=n,d.paymentToken=o,d.tokenId=i,l&&h&&(d.aggent=l,d.aggentFee=h),e.next=16,fe(d,u,c);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}},e,this)})),function(e,t,n,r,s,a,o,i,u){return we.apply(this,arguments)}),Oe=(be=ge(regeneratorRuntime.mark(function e(t,n,a,o,i,u,c,l){var h,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.b)(),h=web3.utils.toWei(t),t=web3.utils.fromDecimal(h),p=web3.utils.fromDecimal(parseInt(parseInt(n)/1e3)),(f=JSON.parse(JSON.stringify(s.r))).basePrice=t,f.expirationTime=p,f.paymentToken=a,f.tokenId=o,c&&l&&(f.aggent=c,f.aggentFee=l),e.next=12,fe(f,i,u);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e,this)})),function(e,t,n,r,s,a,o,i){return be.apply(this,arguments)}),Te=(ye=ge(regeneratorRuntime.mark(function e(t,n,a,o,i,u,c){var l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.b)(),l=web3.utils.toWei(t),t=web3.utils.fromDecimal(l),(h=JSON.parse(JSON.stringify(s.r))).basePrice=t,h.paymentToken=n,h.tokenId=a,u&&c&&(h.aggent=u,h.aggentFee=c),e.next=10,fe(h,o,i);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)})),function(e,t,n,r,s,a,o){return ye.apply(this,arguments)}),Se=(xe=ge(regeneratorRuntime.mark(function e(t,n){var i,u,c,l,h,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.prototype.$event.$emit("SHOW-LOADING",!0),Object(r.b)(),(u=$e(t)).push(n.v),u.push(n.r),u.push(n.s),e.next=8,ethereum.request({method:"eth_requestAccounts"});case 8:return c=e.sent,l=c[0],h=new web3.eth.Contract(JSON.parse(s.g),t.exchange),e.next=13,web3.eth.getGasPrice();case 13:return p=e.sent,console.log("推荐gas费==="+p),e.next=17,(i=h.methods).cancelOrder_.apply(i,de(u)).send({from:l,gasPrice:p},function(e,t){if(e)return a.default.prototype.$message.error(o.a.t("message.assets_lang_89")),a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 17:return f=e.sent,a.default.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",f);case 20:case"end":return e.stop()}},e,this)})),function(e,t){return xe.apply(this,arguments)}),Ce=(ve=ge(regeneratorRuntime.mark(function e(t,n){var i,u,c,l,h,p,f,m,d,g,w,b,y,x,v,k,A,N,O;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.b)(),e.next=3,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 3:return c=e.sent,l=c[0],e.next=7,me(t.basePrice,t.paymentToken,l);case 7:if(e.sent){e.next=12;break}return a.default.prototype.$message.error(o.a.t("message.assets_lang_88")),a.default.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",!1);case 12:return h=Object(s.i)(n),e.next=15,web3.eth.getGasPrice();case 15:if(p=e.sent,console.log("推荐gas费==="+p),(f=JSON.parse(JSON.stringify(s.r))).maker=l,f.salt=web3.utils.randomHex(32),f.makerRelayerFee=t.makerRelayerFee,f.target=t.target,f.side="0",f.replacementPattern=h.sBuyReplacementPattern,f.listingTime=t.listingTime,f.basePrice=t.basePrice,f.taker=t.maker,f.paymentToken=t.paymentToken,f.tokenId=t.tokenId,t.paymentToken===s.c){e.next=47;break}return m=new web3.eth.Contract(JSON.parse(s.t),t.paymentToken),e.next=33,m.methods.allowance(l,s.b).call();case 33:if("0"!=(d=e.sent)){e.next=41;break}return console.log("跳转ERC20授权!"),e.next=38,m.methods.approve(s.b,"10000000000000000000000").send({from:l,gasPrice:p},function(e,t){if(e)return a.default.prototype.$message.error(o.a.t("message.assets_lang_90")),a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 38:return e.next=40,m.methods.allowance(l,s.b).call();case 40:d=e.sent;case 41:if("0"!=d){e.next=46;break}return console.log("ERC20未授权!"),e.abrupt("return",!1);case 46:console.log("ERC20已授权!");case 47:return g="","1155"===h.sTypeCode?g=web3.eth.abi.encodeFunctionCall(JSON.parse(h.sTransferAbi),[t.maker,f.maker,t.tokenId,"1",[]]):"721-Kitty"!==h.sTypeCode&&"721"!==h.sTypeCode||(g=web3.eth.abi.encodeFunctionCall(JSON.parse(h.sTransferAbi),[t.maker,f.maker,t.tokenId])),console.log(g),f.calldata=g,w=new web3.eth.Contract(JSON.parse(s.g),f.exchange),b=$e(f),e.next=55,(i=w.methods).validateOrderParameters_.apply(i,de(b)).call();case 55:return e.sent&&console.log("validateOrderParameters 成功"),e.next=59,(u=w.methods).hashOrder_.apply(u,de(b)).call();case 59:return y=e.sent,console.log("buy hash:"+y),e.next=63,web3.eth.personal.sign(y,l,function(e,t){if(e)return a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 63:return x=e.sent,v=x.substring(2),k="0x"+v.substring(0,64),A="0x"+v.substring(64,128),N="0x"+v.substring(128,130),O={hash:y,r:k,s:A,v:N},console.log("买单成功"),e.abrupt("return",{buyOrder:JSON.stringify(f),buySig:JSON.stringify(O)});case 71:case"end":return e.stop()}},e,this)})),function(e,t){return ve.apply(this,arguments)}),Re=(ke=ge(regeneratorRuntime.mark(function e(t,n,i,u){var c,l,h,p,f,m,d,g,w,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("买单hash==="+u.hash+"卖单hash==="+n.hash),e.next=3,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 3:return l=e.sent,h=l[0],Object(r.b)(),p=new web3.eth.Contract(JSON.parse(s.g),t.exchange),f=[[i.exchange,i.maker,i.taker,i.feeRecipient,i.target,i.aggent,i.paymentToken,t.exchange,t.maker,t.taker,t.feeRecipient,t.target,t.aggent,t.paymentToken],[i.makerRelayerFee,i.takerRelayerFee,i.makerProtocolFee,i.takerProtocolFee,i.basePrice,i.extra,i.listingTime,i.expirationTime,i.salt,i.aggentFee,t.makerRelayerFee,t.takerRelayerFee,t.makerProtocolFee,t.takerProtocolFee,t.basePrice,t.extra,t.listingTime,t.expirationTime,t.salt,t.aggentFee],[i.feeMethod,i.side,i.saleKind,i.howToCall,t.feeMethod,t.side,t.saleKind,t.howToCall],web3.utils.hexToBytes(i.calldata),web3.utils.hexToBytes(t.calldata),web3.utils.hexToBytes(i.replacementPattern),web3.utils.hexToBytes(t.replacementPattern),[u.v,n.v],[u.r,u.s,n.r,n.s,web3.utils.hexToBytes("0x0000000000000000000000000000000000000000000000000000000000000000")]],m=web3.eth.abi.encodeFunctionCall({inputs:[{internalType:"address[14]",name:"addrs",type:"address[14]"},{internalType:"uint256[20]",name:"uints",type:"uint256[20]"},{internalType:"uint8[8]",name:"feeMethodsSidesKindsHowToCalls",type:"uint8[8]"},{internalType:"bytes",name:"calldataBuy",type:"bytes"},{internalType:"bytes",name:"calldataSell",type:"bytes"},{internalType:"bytes",name:"replacementPatternBuy",type:"bytes"},{internalType:"bytes",name:"replacementPatternSell",type:"bytes"},{internalType:"uint8[2]",name:"vs",type:"uint8[2]"},{internalType:"bytes32[5]",name:"rssMetadata",type:"bytes32[5]"}],name:"atomicMatch_",outputs:[],stateMutability:"payable",type:"function"},[].concat(f)),console.log("funcSig=="+m),(d=new le("SHA-256","TEXT",{encoding:"UTF8"})).update(m),g=d.getHash("HEX"),console.log("funcSigHash=="+g),e.next=16,web3.eth.getGasPrice();case 16:return w=e.sent,console.log("推荐gas费==="+w),b=web3.utils.hexToNumberString(t.basePrice),t.paymentToken!==s.c&&(b=0),e.next=22,(c=p.methods).atomicMatch_.apply(c,f).send({from:h,value:b,gasPrice:w,gas:5e5},function(e,t){return e?(console.log("订单匹配失败"),a.default.prototype.$message.error(o.a.t("message.assets_lang_92")),a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1):(console.log("---- 已进入挖矿 订单hash="+t),a.default.prototype.$event.$emit("MATCHORDER",!0),!0)});case 22:return y=e.sent,console.log("---- 交易结果"+y),y||a.default.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",y);case 26:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return ke.apply(this,arguments)}),He=(Ae=ge(regeneratorRuntime.mark(function e(t,n,o){var i,u,c,l,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.prototype.$event.$emit("SHOW-LOADING",!0),Object(r.b)(),e.next=4,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 4:return i=e.sent,u=i[0],e.next=8,web3.eth.getGasPrice();case 8:if(c=e.sent,console.log("推荐gas费==="+c),l=Object(s.i)(o),h=new web3.eth.Contract(JSON.parse(l.sAbi),o),p=null,"1155"!==l.sTypeCode){e.next=19;break}return e.next=16,h.methods.safeTransferFrom(u,t,n,1,0).send({from:u,gasPrice:c},function(e,t){if(e)return a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 16:p=e.sent,e.next=29;break;case 19:if("721"!==l.sTypeCode){e.next=25;break}return e.next=22,h.methods.safeTransferFrom(u,t,n).send({from:u,gasPrice:c},function(e,t){if(e)return a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 22:p=e.sent,e.next=29;break;case 25:if("721-Kitty"!==l.sTypeCode){e.next=29;break}return e.next=28,h.methods.transferFrom(u,t,n).send({from:u,gasPrice:c},function(e,t){if(e)return a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 28:p=e.sent;case 29:return a.default.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",p);case 31:case"end":return e.stop()}},e,this)})),function(e,t,n){return Ae.apply(this,arguments)});function $e(e){return[[e.exchange,e.maker,e.taker,e.feeRecipient,e.target,e.aggent,e.paymentToken],[e.makerRelayerFee,e.takerRelayerFee,e.makerProtocolFee,e.takerProtocolFee,e.basePrice,e.extra,e.listingTime,e.expirationTime,e.salt,e.aggentFee],e.feeMethod,e.side,e.saleKind,e.howToCall,web3.utils.hexToBytes(e.calldata),web3.utils.hexToBytes(e.replacementPattern)]}var Fe,Le,Ee,Ie,_e,Pe,Ye,Ke,De=(Fe=ge(regeneratorRuntime.mark(function e(t,n,i,u,c,l){var h,p,f,m,d,g,w,b,y,x,v,k,A,N,O,T,S,C,R,H,$,F;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=web3.utils.toHex(l),a.default.prototype.$event.$emit("SHOW-LOADING",!0),Object(r.b)(),f=web3.utils.toWei(t),t=web3.utils.fromDecimal(f),e.next=7,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 7:return m=e.sent,d=m[0],e.next=11,me(t,i,d);case 11:if(e.sent){e.next=16;break}return a.default.prototype.$message.error(o.a.t("message.assets_lang_88")),a.default.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",!1);case 16:return g=Object(s.i)(c),e.next=19,web3.eth.getGasPrice();case 19:if(w=e.sent,console.log("推荐gas费==="+w),b=web3.utils.fromDecimal(parseInt(parseInt(n)/1e3)),(y=JSON.parse(JSON.stringify(s.r))).expirationTime=b,y.maker=d,y.salt=web3.utils.randomHex(32),y.makerRelayerFee=l,y.target=c,y.side="0",y.replacementPattern=g.sBuyReplacementPattern,x=new Date,y.listingTime=web3.utils.toHex(Math.round(x.getTime()/1e3)),y.basePrice=t,y.taker=s.c,y.paymentToken=i,y.tokenId=u,i===s.c){e.next=54;break}return v=new web3.eth.Contract(JSON.parse(s.t),i),e.next=40,v.methods.allowance(d,s.b).call();case 40:if("0"!=(k=e.sent)){e.next=48;break}return console.log("跳转ERC20授权!"),e.next=45,v.methods.approve(s.b,"10000000000000000000000").send({from:d,gasPrice:w},function(e,t){if(e)return a.default.prototype.$message.error(o.a.t("message.assets_lang_90")),a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 45:return e.next=47,v.methods.allowance(d,s.b).call();case 47:k=e.sent;case 48:if("0"!=k){e.next=53;break}return console.log("ERC20未授权!"),e.abrupt("return",!1);case 53:console.log("ERC20已授权!");case 54:return A="","1155"===g.sTypeCode?A=web3.eth.abi.encodeFunctionCall(JSON.parse(g.sTransferAbi),[s.c,y.maker,y.tokenId,"1",[]]):"721-Kitty"!==g.sTypeCode&&"721"!==g.sTypeCode||(A=web3.eth.abi.encodeFunctionCall(JSON.parse(g.sTransferAbi),[s.c,y.maker,y.tokenId])),console.log(A),y.calldata=A,N=new web3.eth.Contract(JSON.parse(s.g),y.exchange),O=$e(y),e.next=62,(h=N.methods).validateOrderParameters_.apply(h,de(O)).call();case 62:return e.sent&&console.log("validateOrderParameters 成功"),e.next=66,(p=N.methods).hashOrder_.apply(p,de(O)).call();case 66:return T=e.sent,console.log("buy hash:"+T),e.next=70,web3.eth.personal.sign(T,d,function(e,t){if(e)return a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 70:return S=e.sent,C=S.substring(2),R="0x"+C.substring(0,64),H="0x"+C.substring(64,128),$="0x"+C.substring(128,130),F={hash:T,r:R,s:H,v:$},a.default.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",{buyOrder:JSON.stringify(y),buySig:JSON.stringify(F)});case 78:case"end":return e.stop()}},e,this)})),function(e,t,n,r,s,a){return Fe.apply(this,arguments)}),Ue=(Le=ge(regeneratorRuntime.mark(function e(t,n){var i,u,c,l,h,p,f,m,d,g,w,b,y,x,v,k,A,N,O,T,S,C,R,H;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.b)(),e.next=3,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 3:return c=e.sent,l=c[0],e.next=7,me(t.basePrice,t.paymentToken,t.maker);case 7:if(e.sent){e.next=12;break}return a.default.prototype.$message.error(o.a.t("message.assets_lang_93")),a.default.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",!1);case 12:return h=Object(s.i)(n),e.next=15,web3.eth.getGasPrice();case 15:return p=e.sent,console.log("推荐gas费==="+p),(f=JSON.parse(JSON.stringify(s.r))).makerRelayerFee=t.makerRelayerFee,f.target=t.target,f.side="1",f.replacementPattern=h.sSellReplacementPattern,f.salt=web3.utils.randomHex(32),f.basePrice=t.basePrice,f.paymentToken=t.paymentToken,f.taker=t.maker,f.listingTime=t.listingTime,f.feeRecipient=s.h,f.maker=l,f.tokenId=t.tokenId,m=new web3.eth.Contract(JSON.parse(s.s),s.a),e.next=33,m.methods.proxies(l).call();case 33:if((d=e.sent)!=s.c){e.next=41;break}return console.log("跳转注册!"),e.next=38,m.methods.registerProxy().send({from:l,gasPrice:p},function(e,t){if(e)return a.default.prototype.$message.error(o.a.t("message.assets_lang_92")),a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 38:return e.next=40,m.methods.proxies(l).call();case 40:d=e.sent;case 41:if(d!=s.c){e.next=46;break}return console.log("未注册!"),e.abrupt("return",!1);case 46:console.log("ownableDelegateProxy:"+d),console.log("已注册!");case 48:if(t.paymentToken===s.c){e.next=66;break}return g=new web3.eth.Contract(JSON.parse(s.t),t.paymentToken),e.next=52,g.methods.allowance(l,s.b).call();case 52:if("0"!=(w=e.sent)){e.next=60;break}return console.log("跳转ERC20授权!"),e.next=57,g.methods.approve(s.b,"10000000000000000000000").send({from:l,gasPrice:p},function(e,t){if(e)return a.default.prototype.$message.error(o.a.t("message.assets_lang_90")),a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 57:return e.next=59,g.methods.allowance(l,s.b).call();case 59:w=e.sent;case 60:if("0"!=w){e.next=65;break}return console.log("ERC20未授权!"),e.abrupt("return",!1);case 65:console.log("ERC20已授权!");case 66:if(b=new web3.eth.Contract(JSON.parse(h.sAbi),n),y="","1155"!==h.sTypeCode&&"721"!==h.sTypeCode){e.next=88;break}return e.next=71,b.methods.isApprovedForAll(l,d).call();case 71:if(x=e.sent){e.next=79;break}return console.log("跳转资产授权!"),e.next=76,b.methods.setApprovalForAll(d,!0).send({from:l,gasPrice:p},function(e,t){if(e)return a.default.prototype.$event.$emit("SHOW-LOADING",!1),a.default.prototype.$message.error(o.a.t("message.assets_lang_91")),!1});case 76:return e.next=78,b.methods.isApprovedForAll(l,d).call();case 78:x=e.sent;case 79:if(x){e.next=84;break}return console.log("资产未授权!"),e.abrupt("return",!1);case 84:console.log("资产已授权!");case 85:"1155"===h.sTypeCode?y=web3.eth.abi.encodeFunctionCall(JSON.parse(h.sTransferAbi),[f.maker,f.taker,t.tokenId,"1",[]]):"721"===h.sTypeCode&&(y=web3.eth.abi.encodeFunctionCall(JSON.parse(h.sTransferAbi),[f.maker,f.taker,t.tokenId])),e.next=106;break;case 88:if("721-Kitty"!==h.sTypeCode){e.next=106;break}return e.next=91,b.methods.kittyIndexToApproved(f.tokenId).call();case 91:if((v=e.sent)==d){e.next=99;break}return console.log("跳转资产授权!"),e.next=96,b.methods.approve(d,f.tokenId).send({from:l,gasPrice:p},function(e,t){if(e)return a.default.prototype.$event.$emit("SHOW-LOADING",!1),a.default.prototype.$message.error(o.a.t("message.assets_lang_91")),!1});case 96:return e.next=98,b.methods.kittyIndexToApproved(f.tokenId).call();case 98:v=e.sent;case 99:if(v==d){e.next=104;break}return console.log("资产未授权!"),e.abrupt("return",!1);case 104:console.log("资产已授权!");case 105:y=web3.eth.abi.encodeFunctionCall(JSON.parse(h.sTransferAbi),[f.maker,f.taker,t.tokenId]);case 106:return console.log(y),f.calldata=y,k=new web3.eth.Contract(JSON.parse(s.g),f.exchange),A=$e(f),e.next=112,(i=k.methods).validateOrderParameters_.apply(i,de(A)).call();case 112:return e.sent&&console.log("validateOrderParameters 成功"),e.next=116,(u=k.methods).hashOrder_.apply(u,de(A)).call();case 116:return N=e.sent,console.log("sell hash:"+N),e.next=120,web3.eth.personal.sign(N,l,function(e,t){if(e)return a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1});case 120:return O=e.sent,T=O.substring(2),S="0x"+T.substring(0,64),C="0x"+T.substring(64,128),R="0x"+T.substring(128,130),H={hash:N,r:S,s:C,v:R},e.abrupt("return",{sSellOrder:JSON.stringify(f),sSellSig:JSON.stringify(H)});case 127:case"end":return e.stop()}},e,this)})),function(e,t){return Le.apply(this,arguments)}),Je=(Ee=ge(regeneratorRuntime.mark(function e(t,n){var s,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(s=$e(t)).push(n.v),s.push(n.r),s.push(n.s),Object(r.b)(),a=web3.eth.abi.encodeFunctionCall({inputs:[{internalType:"address[7]",name:"addrs",type:"address[7]"},{internalType:"uint256[10]",name:"uints",type:"uint256[10]"},{internalType:"enum ExchangeCore.FeeMethod",name:"feeMethod",type:"uint8"},{internalType:"enum SaleKindInterface.Side",name:"side",type:"uint8"},{internalType:"enum SaleKindInterface.SaleKind",name:"saleKind",type:"uint8"},{internalType:"enum AuthenticatedProxy.HowToCall",name:"howToCall",type:"uint8"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes",name:"replacementPattern",type:"bytes"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelOrder_",outputs:[],stateMutability:"nonpayable",type:"function"},[].concat(de(s))),console.log("funcSig=="+a),(o=new le("SHA-256","TEXT",{encoding:"UTF8"})).update(a),i=o.getHash("HEX"),console.log("funcSigHash=="+i),e.abrupt("return",i);case 12:case"end":return e.stop()}},e,this)})),function(e,t){return Ee.apply(this,arguments)}),Ge=(Ie=ge(regeneratorRuntime.mark(function e(t,n,s,a){var o,i,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=[[s.exchange,s.maker,s.taker,s.feeRecipient,s.target,s.aggent,s.paymentToken,t.exchange,t.maker,t.taker,t.feeRecipient,t.target,t.aggent,t.paymentToken],[s.makerRelayerFee,s.takerRelayerFee,s.makerProtocolFee,s.takerProtocolFee,s.basePrice,s.extra,s.listingTime,s.expirationTime,s.salt,s.aggentFee,t.makerRelayerFee,t.takerRelayerFee,t.makerProtocolFee,t.takerProtocolFee,t.basePrice,t.extra,t.listingTime,t.expirationTime,t.salt,t.aggentFee],[s.feeMethod,s.side,s.saleKind,s.howToCall,t.feeMethod,t.side,t.saleKind,t.howToCall],web3.utils.hexToBytes(s.calldata),web3.utils.hexToBytes(t.calldata),web3.utils.hexToBytes(s.replacementPattern),web3.utils.hexToBytes(t.replacementPattern),[a.v,n.v],[a.r,a.s,n.r,n.s,web3.utils.hexToBytes("0x0000000000000000000000000000000000000000000000000000000000000000")]],Object(r.b)(),i=web3.eth.abi.encodeFunctionCall({inputs:[{internalType:"address[14]",name:"addrs",type:"address[14]"},{internalType:"uint256[20]",name:"uints",type:"uint256[20]"},{internalType:"uint8[8]",name:"feeMethodsSidesKindsHowToCalls",type:"uint8[8]"},{internalType:"bytes",name:"calldataBuy",type:"bytes"},{internalType:"bytes",name:"calldataSell",type:"bytes"},{internalType:"bytes",name:"replacementPatternBuy",type:"bytes"},{internalType:"bytes",name:"replacementPatternSell",type:"bytes"},{internalType:"uint8[2]",name:"vs",type:"uint8[2]"},{internalType:"bytes32[5]",name:"rssMetadata",type:"bytes32[5]"}],name:"atomicMatch_",outputs:[],stateMutability:"payable",type:"function"},[].concat(o)),console.log("funcSig=="+i),(u=new le("SHA-256","TEXT",{encoding:"UTF8"})).update(i),c=u.getHash("HEX"),console.log("funcSigHash=="+c),e.abrupt("return",c);case 9:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return Ie.apply(this,arguments)}),Be=(_e=ge(regeneratorRuntime.mark(function e(){var t,n,a,o,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.b)(),e.next=3,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return 0});case 3:return t=e.sent,n=t[0],a="0xdac17f958d2ee523a2206206994597c13d831ec7",o=new web3.eth.Contract(JSON.parse(s.t),a),e.next=9,o.methods.balanceOf(n).call();case 9:if(i=e.sent,!((u=i/1e6+"").lastIndexOf(".")>-1)){e.next=13;break}return e.abrupt("return",parseFloat(u.substring(0,u.lastIndexOf(".")+5)));case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}},e,this)})),function(){return _e.apply(this,arguments)}),Me=(Pe=ge(regeneratorRuntime.mark(function e(t){var n,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.b)(),e.next=3,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return 0});case 3:return n=e.sent,n[0],a=new web3.eth.Contract(JSON.parse(s.p),s.q),e.next=8,a.methods.usdToNeraInputPrice(t).call();case 8:return o=e.sent,e.abrupt("return",o/1e12);case 10:case"end":return e.stop()}},e,this)})),function(e){return Pe.apply(this,arguments)}),We=(Ye=ge(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(r.b)(),t=new web3.eth.Contract(JSON.parse(s.p),s.q),e.next=4,t.methods.getMax().call();case 4:return n=e.sent,e.abrupt("return",n/1e18);case 6:case"end":return e.stop()}},e,this)})),function(){return Ye.apply(this,arguments)}),je=(Ke=ge(regeneratorRuntime.mark(function e(t){var n,i,u,c,l,h,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.prototype.$event.$emit("SHOW-LOADING",!0),Object(r.b)(),e.next=4,ethereum.request({method:"eth_requestAccounts"}).catch(function(){return 0});case 4:return n=e.sent,i=n[0],e.next=8,web3.eth.getGasPrice();case 8:return u=e.sent,console.log("推荐gas费==="+u),c="0xdac17f958d2ee523a2206206994597c13d831ec7",l=new web3.eth.Contract(JSON.parse(s.t),c),e.next=14,l.methods.allowance(i,s.q).call();case 14:if("0"!=(h=e.sent)){e.next=22;break}return console.log("跳转ERC20授权!"),e.next=19,l.methods.approve(s.q,"10000000000000000000000").send({from:i,gasPrice:u},function(e,t){if(e)return a.default.prototype.$event.$emit("SHOW-LOADING",!1),a.default.prototype.$message.error(o.a.t("message.assets_lang_90")),!1});case 19:return e.next=21,l.methods.allowance(i,s.q).call();case 21:h=e.sent;case 22:if("0"!=h){e.next=27;break}return console.log("ERC20未授权!"),e.abrupt("return",!1);case 27:console.log("ERC20已授权!");case 28:return p=new web3.eth.Contract(JSON.parse(s.p),s.q),e.next=31,p.methods.usdToNera(1e6*t).send({from:i,gasPrice:u},function(e,t){if(e)return a.default.prototype.$event.$emit("SHOW-LOADING",!1),!1;t&&a.default.prototype.$event.$emit("SHOW-LOADING",!1)});case 31:return f=e.sent,a.default.prototype.$event.$emit("SHOW-LOADING",!1),e.abrupt("return",f);case 34:case"end":return e.stop()}},e,this)})),function(e){return Ke.apply(this,arguments)})},fZfN:function(e,t){}});