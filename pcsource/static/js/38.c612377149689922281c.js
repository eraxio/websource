webpackJsonp([38],{2120:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("bSIt");var r=n("ytf2");function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(s,a){try{var i=t[s](a),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}("next")})}}var a={data:function(){return{email:"",sAddress:""}},computed:{},mounted:function(){this.QueryUserInfo()},methods:{QueryUserInfo:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.QueryUserInfo({idle:0});case 2:return n=t.sent,r=n.stAuth,e.email=r.sEmail,t.next=7,ethereum.request({method:"eth_requestAccounts"});case 7:s=t.sent,e.sAddress=s[0];case 9:case"end":return t.stop()}},t,e)}))()},logout:function(){this.$store.commit("app/LOGOUT"),vm.$router.replace("/index")},bindThis:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n,s,a,i,c,u,o,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ethereum.request({method:"eth_requestAccounts"});case 2:return n=t.sent,s=n[0],t.next=6,e.$api.QueryChainInfo({sChain:"Ethereum",sAddress:s});case 6:return a=t.sent,i=a.sNonce,c=a.sChain,Object(r.b)(),t.next=12,web3.eth.personal.sign(i,s,function(e,t){if(e)return!1});case 12:return u=t.sent,t.next=15,e.$api.UserBindChain({sChain:c,sAddress:s,sSignature:u,iSource:1});case 15:return localStorage.setItem("Email",e.email),t.next=18,e.$api.GetUserExten({sAddress:s});case 18:o=t.sent,(d=o.stUserExtenInfo).owner=!0,e.$store.dispatch("user/GET_USERINFO",d||{}),e.$nextTick(function(){e.$router.replace("/")});case 23:case"end":return t.stop()}},t,e)}))()}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"change-matemask"},[n("div",{staticClass:"container"},[n("div",{staticClass:"title"},[e._v(e._s(e.$t("message.email_account_19")))]),e._v(" "),n("div",{staticClass:"address-title"},[e._v(e._s(e.$t("message.email_account_20")))]),e._v(" "),n("div",{staticClass:"address"},[e._v(e._s(e.sAddress))]),e._v(" "),n("div",{staticClass:"error-tips notice"},[n("span",{staticClass:"dot"}),e._v(e._s(e.$t("message.email_account_22"))+"\n    ")]),e._v(" "),n("div",{staticClass:"btn2",on:{click:e.logout}},[e._v(e._s(e.$t("message.email_account_25")))])])])},staticRenderFns:[]};var c=n("C7Lr")(a,i,!1,function(e){n("rnme")},"data-v-22a8d67e",null);t.default=c.exports},rnme:function(e,t){}});