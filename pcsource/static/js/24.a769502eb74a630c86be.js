webpackJsonp([24],{GOOW:function(t,e){},IMQy:function(t,e){},Xd8F:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("tIMw"),n=s.n(a),i=s("bSIt"),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},o={props:{dataInfo:{type:Object,default:function(){}},poolAbi:{type:String,default:function(){return""}},descAry:{type:Array,default:function(){return[]}}},computed:r({},Object(i.c)({mateMaskToken:function(t){return t.mateMaskToken},chainObj:function(t){return t.chainObj},cashDic:function(t){return t.cashDic},sBTC:function(t){return t.BTCUSDT},sETH:function(t){return t.ETHUSDT},sBRD:function(t){return t.BRDBTC},sNEAR:function(t){return t.NERAUSDT},BNBUSDT:function(t){return t.BNBUSDT},locale:function(t){return t.locale}}),{poolName:function(){var t="en"===this.language?"en":"zh";if(this.descAry.length){var e=parseInt(this.dataInfo.index)-1,s=this.descAry.length>e?this.descAry[e]:this.descAry[0];return"en"==t?s.sName_en:s.sName_ch}},poolDesc:function(){var t="en"===this.language?"en":"zh";if(this.descAry.length){var e=parseInt(this.dataInfo[7])-1,s=this.descAry.length>e?this.descAry[e]:this.descAry[0];return"en"==t?s.sSummary_en:s.sSummary_ch}},canWithDraw:function(){return!(this.earned+this.balanceOf)},canHarvest:function(){return!this.earned},curChain:function(){return"undefined"!=typeof web3&&this.chainObj&&this.chainObj[web3.currentProvider.chainId]?this.chainObj[web3.currentProvider.chainId]:{}}}),methods:{getOpenAndEndTime:function(){return this.$util.formatTimeToStr(1e3*parseInt(this.dataInfo.starttime),"yyyy-MM-dd hh:mm")+" - "+this.$util.formatTimeToStr(1e3*parseInt(this.dataInfo.endtime),"yyyy-MM-dd hh:mm")},getIcon:function(t){return this.dataInfo&&this.dataInfo.length?erc20IconObj[this.dataInfo[t].toLowerCase()]:""},getStatus:function(t){switch(t){case 1:return this.$t("message.ido_3");case 2:return this.$t("message.ido_2");case 3:return this.$t("message.ido_4")}},getStatusSign:function(t){switch(t){case 1:return this.$t("message.ido_3");case 2:return this.$t("message.ido_32");case 3:return this.$t("message.ido_4")}}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reward-item"},[a("div",{staticClass:"status-sign"},[a("div",{staticClass:"sign-item"},[a("img",{directives:[{name:"show",rawName:"v-show",value:t.dataInfo&&1==t.dataInfo.poolStatus,expression:"dataInfo && dataInfo.poolStatus == 1"}],attrs:{src:s("uXOr"),alt:""}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:t.dataInfo&&2==t.dataInfo.poolStatus,expression:"dataInfo && dataInfo.poolStatus == 2"}],attrs:{src:s("R2lP"),alt:""}}),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:t.dataInfo&&3==t.dataInfo.poolStatus,expression:"dataInfo && dataInfo.poolStatus == 3"}],attrs:{src:s("zvc6"),alt:""}}),t._v(" "),a("div",{staticClass:"sign-desc"},[t._v("\n        "+t._s(t.getStatusSign(t.dataInfo&&t.dataInfo.poolStatus))+"\n      ")])])]),t._v(" "),a("div",{staticClass:"reward-info"},[a("div",{staticClass:"left"},[a("div",{staticClass:"pool-name"},[t._v(t._s(t.poolName))]),t._v(" "),a("div",{staticClass:"arp-container arp-container1"},[a("div",{staticClass:"flex-bwteen margin-bottom"},[a("div",{staticClass:"txt1"},[t._v(t._s(t.$t("message.stake_31")))]),t._v(" "),a("div",{staticClass:"coin-icon"},[t._v(t._s(t.dataInfo[0]))])]),t._v(" "),a("div",{staticClass:"txt2 flex-bwteen"},[t._v("\n          "+t._s(t._f("filterThousands")(t.dataInfo.inviteNum))+"\n        ")])]),t._v(" "),a("div",{staticClass:"arp-container arp-container2"},[a("div",{staticClass:"txt1 flex-bwteen margin-bottom"},[t._v("\n          "+t._s(t.$t("message.stake_32"))+"\n        ")]),t._v(" "),a("div",{staticClass:"txt2 flex-bwteen"},[t._v("\n          "+t._s(t._f("filterThousands")(t.dataInfo.activeNum))+"\n        ")])]),t._v(" "),a("div",{staticClass:"arp-container arp-container3"},[a("div",{staticClass:"flex-bwteen margin-bottom"},[a("div",{staticClass:"txt1"},[t._v(t._s(t.$t("message.stake_33")))]),t._v(" "),a("div",{staticClass:"coin-icon"},[t._v(t._s(t.dataInfo[0]))])]),t._v(" "),a("div",{staticClass:"flex-bwteen"},[a("div",{staticClass:"txt2"},[t._v(t._s(t.dataInfo.inviteRate)+"%")])])])]),t._v(" "),a("div",{staticClass:"right"},[a("div",{staticClass:"time-p"},[a("div",{staticClass:"item-time"},[a("div",{staticClass:"num"},[a("div",{staticClass:"value-d"},[t._v(t._s(t.dataInfo&&t.dataInfo.day))]),t._v(" "),a("div",{staticClass:"down-div"})]),t._v(" "),a("div",{staticClass:"desc"},[t._v(t._s(t.$t("message.ido_20")))])]),t._v(" "),a("div",{staticClass:"item-time"},[a("div",{staticClass:"num"},[a("div",{staticClass:"value-d"},[t._v(t._s(t.dataInfo&&t.dataInfo.hours))]),t._v(" "),a("div",{staticClass:"down-div"})]),t._v(" "),a("div",{staticClass:"desc"},[t._v(t._s(t.$t("message.ido_21")))])]),t._v(" "),a("div",{staticClass:"item-time"},[a("div",{staticClass:"num"},[a("div",{staticClass:"value-d"},[t._v(t._s(t.dataInfo&&t.dataInfo.minutes))]),t._v(" "),a("div",{staticClass:"down-div"})]),t._v(" "),a("div",{staticClass:"desc"},[t._v(t._s(t.$t("message.ido_22")))])]),t._v(" "),a("div",{staticClass:"item-time"},[a("div",{staticClass:"num"},[a("div",{staticClass:"value-d"},[t._v(t._s(t.dataInfo&&t.dataInfo.seconds))]),t._v(" "),a("div",{staticClass:"down-div"})]),t._v(" "),a("div",{staticClass:"desc"},[t._v(t._s(t.$t("message.ido_23")))])])]),t._v(" "),a("div",{staticClass:"arp-container arp-container4"},[a("div",{staticClass:"flex-bwteen margin-bottom"},[a("div",{staticClass:"txt1"},[t._v(t._s(t.$t("message.stake_34")))]),t._v(" "),a("div",{staticClass:"coin-icon"},[a("img",{attrs:{src:t.dataInfo.icon2,alt:""}}),t._v(t._s(t.dataInfo.name2))])]),t._v(" "),a("div",{staticClass:"flex-bwteen"},[a("div",{staticClass:"txt2"},[t._v(t._s(t._f("filterThousands")(t.dataInfo.InviterReward)))])])]),t._v(" "),a("div",{staticClass:"arp-container arp-container5"},[a("div",{staticClass:"flex-bwteen margin-bottom"},[a("div",{staticClass:"txt1"},[t._v(t._s(t.$t("message.stake_35")))]),t._v(" "),a("div",{staticClass:"coin-icon"},[a("img",{attrs:{src:t.dataInfo.icon2,alt:""}}),t._v(t._s(t.dataInfo.name2))])]),t._v(" "),a("div",{staticClass:"flex-bwteen"},[a("div",{staticClass:"txt2"},[t._v(t._s(t._f("filterThousands")(t.dataInfo.noGet)))])])])])])])},staticRenderFns:[]};var d=s("C7Lr")(o,c,!1,function(t){s("IMQy")},"data-v-017881b0",null).exports,l=s("Tnm7"),v=s("ytf2");function u(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,s){return function a(n,i){try{var r=e[n](i),o=r.value}catch(t){return void s(t)}if(!r.done)return Promise.resolve(o).then(function(t){a("next",t)},function(t){a("throw",t)});t(o)}("next")})}}var f={components:{RewardItem:d},data:function(){return{list:[],list2:[],detailList:[],poolAbi:"",poolAbi2:"",abi:"",address:"",address2:"",isRequest:!1,descAry:[]}},computed:(Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t})({},Object(i.c)({mateMaskToken:function(t){return t.app.mateMaskToken}})),watch:{mateMaskToken:function(){this.initConfig()}},mounted:function(){var t=this;this.initConfig(),this.$nextTick(function(){t.initCopy()}),this.timewait()},methods:{timewait:function(){var t=this;clearInterval(this.timeId),this.timeId=setInterval(function(){var e=t.detailList;if(e.length){var s=(new Date).getTime()/1e3,a=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var c=r.value,d=parseInt(c.starttime),l=parseInt(c.endtime),v=0,u=0,f=0,m=0,p=0,_=2;s<d?(_=1,p=d-s,v=parseInt(p/3600/24),u=parseInt(24*(parseFloat(p/3600/24)-parseInt(p/3600/24))),f=parseInt(60*(parseFloat(p/3600)-parseInt(p/3600))),m=parseInt(60*(parseFloat(60*(parseFloat(p/3600)-parseInt(p/3600)))-parseInt(60*(parseFloat(p/3600)-parseInt(p/3600)))))):s>l?(_=3,v=0,u=0,f=0,m=0):(p=l-s,v=parseInt(p/3600/24),u=parseInt(24*(parseFloat(p/3600/24)-parseInt(p/3600/24))),f=parseInt(60*(parseFloat(p/3600)-parseInt(p/3600))),m=parseInt(60*(parseFloat(60*(parseFloat(p/3600)-parseInt(p/3600)))-parseInt(60*(parseFloat(p/3600)-parseInt(p/3600))))),_=2),v<10&&(v=(v+1e4).toString().substring(3)),u=(u+100).toString().substring(1),f=(f+100).toString().substring(1),m=(m+100).toString().substring(1),t.$set(c,"poolStatus",_),t.$set(c,"day",v),t.$set(c,"hours",u),t.$set(c,"minutes",f),t.$set(c,"seconds",m)}}catch(t){n=!0,i=t}finally{try{!a&&o.return&&o.return()}finally{if(n)throw i}}}},1e3)},getUrl:function(){var t=window.btoa("NE"+this.mateMaskToken);return window.location.origin+"/staking/"+t},initCopy:function(){var t=this,e=document.getElementById("copyBtn"),s=new n.a(e);s.on("success",function(){t.$message.success(t.$t("message.lang_62"))}),s.on("error",function(t){})},initConfig:function(){var t=this;return u(regeneratorRuntime.mark(function e(){var s,a,n,i,r,o,c,d,u,f,m,p,_,h,g,C,I,b,x,k,w,y,$;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isRequest){e.next=2;break}return e.abrupt("return");case 2:return t.isRequest=!0,t.list=[],t.list2=[],t.detailList=[],s=t.$util.getChainKey(),e.next=9,t.$api.GetSystemConfig({sAppId:s,sKey1:"ERC20"});case 9:return a=e.sent,Object(l.l)(a.vList),e.next=13,t.$axios.post("/v1/udc/GetSystemConfig",{sAppId:s,sKey1:"StakeData"});case 13:for(n=e.sent,t.descAry=[],i=!0,r=!1,o=void 0,e.prev=18,c=n.vList[Symbol.iterator]();!(i=(d=c.next()).done);i=!0)u=d.value,t.descAry.push(JSON.parse(u.sValue));e.next=26;break;case 22:e.prev=22,e.t0=e.catch(18),r=!0,o=e.t0;case 26:e.prev=26,e.prev=27,!i&&c.return&&c.return();case 29:if(e.prev=29,!r){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(26);case 34:return e.next=36,t.$api.GetSystemConfig({sAppId:s,sKey1:"Stake"});case 36:for(f=e.sent,m=f.vList,p=!0,_=!1,h=void 0,e.prev=41,g=m[Symbol.iterator]();!(p=(C=g.next()).done);p=!0)"dataAbi"===(I=C.value).sKey2?t.abi=I.sValue:"stakeAddress"===I.sKey2?t.address=I.sValue:"poorAbi"===I.sKey2?t.poolAbi=I.sValue:"stakeAddress2"===I.sKey2?t.address2=I.sValue:"poorAbi2"===I.sKey2&&(t.poolAbi2=I.sValue);e.next=49;break;case 45:e.prev=45,e.t1=e.catch(41),_=!0,h=e.t1;case 49:e.prev=49,e.prev=50,!p&&g.return&&g.return();case 52:if(e.prev=52,!_){e.next=55;break}throw h;case 55:return e.finish(52);case 56:return e.finish(49);case 57:return Object(v.b)(),t.contract=new web3.eth.Contract(JSON.parse(t.abi),t.address),e.next=61,t.contract.methods.getPoolsLength().call();case 61:b=e.sent,x=0;case 63:if(!(x<b)){e.next=71;break}return e.next=66,t.contract.methods.getPoolInfo(x).call();case 66:k=e.sent,t.list.push(k);case 68:x++,e.next=63;break;case 71:if(!t.address2){e.next=85;break}return t.contract2=new web3.eth.Contract(JSON.parse(t.abi),t.address2),e.next=75,t.contract2.methods.getPoolsLength().call();case 75:w=e.sent,y=0;case 77:if(!(y<w)){e.next=85;break}return e.next=80,t.contract2.methods.getPoolInfo(y).call();case 80:$=e.sent,t.list2.push($);case 82:y++,e.next=77;break;case 85:t.updateList();case 86:case"end":return e.stop()}},e,t,[[18,22,26,34],[27,,29,33],[41,45,49,57],[50,,52,56]])}))()},updateList:function(){var t=this;return u(regeneratorRuntime.mark(function e(){var s,a,n,i,r,o,c,d,v,u,f,m,p,_,h,g,C,I,b,x,k,w,y,$,S,A,T,O,R,M,N,F;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(new Date).getTime()/1e3,a=t.list.length,!t.mateMaskToken||!t.list2.length){e.next=75;break}n=!0,i=!1,r=void 0,e.prev=6,o=t.list2[Symbol.iterator]();case 8:if(n=(c=o.next()).done){e.next=61;break}return d=c.value,a++,v=new web3.eth.Contract(JSON.parse(t.poolAbi2),d[6]),u=new web3.eth.Contract(JSON.parse(l.t),d[3]),e.next=15,u.methods.decimals().call();case 15:return f=e.sent,(m={}).name1=d[0],m.name2=d[1],m.icon2=l.f[d[3].toLowerCase()],m.icon1=l.f[d[2].toLowerCase()],m.starttime=d[4],m.endtime=d[5],m.index=a,e.next=26,v.methods.getAccountCountOfInviter(t.mateMaskToken).call();case 26:return m.inviteNum=e.sent,e.next=29,v.methods.getActiveAccountCountOfInviter(t.mateMaskToken).call();case 29:return m.activeNum=e.sent,e.next=32,v.methods.getInviterReward(t.mateMaskToken).call();case 32:return m.InviterReward=e.sent,e.next=35,v.methods.getInviteRate(t.mateMaskToken).call();case 35:return m.inviteRate=e.sent,e.next=38,v.methods.getAccountCountOfInviter(t.mateMaskToken).call();case 38:p=e.sent,_=0,h=0;case 41:if(!(h<p)){e.next=52;break}return e.next=44,v.methods.getAccountOfInviter(t.mateMaskToken,h).call();case 44:return g=e.sent,e.next=47,v.methods.earned(g).call();case 47:C=e.sent,_+=parseFloat(t.$util.fromWei(C,f,4));case 49:h++,e.next=41;break;case 52:if(_=_/100*parseFloat(m.inviteRate),m.InviterReward=parseFloat(t.$util.fromWei(m.InviterReward+"",f,4)).toFixed(4),m.noGet=_.toFixed(4),!(parseInt(m.endtime)<s)||parseInt(m.inviteNum)){e.next=57;break}return e.abrupt("continue",58);case 57:t.detailList.push(m);case 58:n=!0,e.next=8;break;case 61:e.next=67;break;case 63:e.prev=63,e.t0=e.catch(6),i=!0,r=e.t0;case 67:e.prev=67,e.prev=68,!n&&o.return&&o.return();case 70:if(e.prev=70,!i){e.next=73;break}throw r;case 73:return e.finish(70);case 74:return e.finish(67);case 75:if(a=0,!t.mateMaskToken||!t.list.length){e.next=149;break}I=!0,b=!1,x=void 0,e.prev=80,k=t.list[Symbol.iterator]();case 82:if(I=(w=k.next()).done){e.next=135;break}return y=w.value,a++,$=new web3.eth.Contract(JSON.parse(t.poolAbi),y[6]),S=new web3.eth.Contract(JSON.parse(l.t),y[3]),e.next=89,S.methods.decimals().call();case 89:return A=e.sent,(T={}).name1=y[0],T.name2=y[1],T.icon2=l.f[y[3].toLowerCase()],T.icon1=l.f[y[2].toLowerCase()],T.starttime=y[4],T.endtime=y[5],T.index=a,e.next=100,$.methods.getAccountCountOfInviter(t.mateMaskToken).call();case 100:return T.inviteNum=e.sent,e.next=103,$.methods.getActiveAccountCountOfInviter(t.mateMaskToken).call();case 103:return T.activeNum=e.sent,e.next=106,$.methods.getInviterReward(t.mateMaskToken).call();case 106:return T.InviterReward=e.sent,e.next=109,$.methods.getInviteRate(t.mateMaskToken).call();case 109:return T.inviteRate=e.sent,e.next=112,$.methods.getAccountCountOfInviter(t.mateMaskToken).call();case 112:O=e.sent,R=0,M=0;case 115:if(!(M<O)){e.next=126;break}return e.next=118,$.methods.getAccountOfInviter(t.mateMaskToken,M).call();case 118:return N=e.sent,e.next=121,$.methods.earned(N).call();case 121:F=e.sent,R+=parseFloat(t.$util.fromWei(F,A,4));case 123:M++,e.next=115;break;case 126:if(R=R/100*parseFloat(T.inviteRate),T.InviterReward=parseFloat(t.$util.fromWei(T.InviterReward+"",A,4)).toFixed(4),T.noGet=R.toFixed(4),!(parseInt(T.endtime)<s)||parseInt(T.inviteNum)){e.next=131;break}return e.abrupt("continue",132);case 131:t.detailList.push(T);case 132:I=!0,e.next=82;break;case 135:e.next=141;break;case 137:e.prev=137,e.t1=e.catch(80),b=!0,x=e.t1;case 141:e.prev=141,e.prev=142,!I&&k.return&&k.return();case 144:if(e.prev=144,!b){e.next=147;break}throw x;case 147:return e.finish(144);case 148:return e.finish(141);case 149:t.isRequest=!1;case 150:case"end":return e.stop()}},e,t,[[6,63,67,75],[68,,70,74],[80,137,141,149],[142,,144,148]])}))()}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"invite-staking white-bg"},[s("div",{staticClass:"invite-container"},[s("div",{staticClass:"title"},[t._v(t._s(t.$t("message.stake_28")))]),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"main-container"},[s("div",{staticClass:"top"},[s("div",{staticClass:"tips"},[s("div",{staticClass:"txt11"},[t._v(t._s(t.$t("message.stake_37"))+" "),s("i",{staticClass:"iconfont icon-shuaxing",on:{click:function(e){return t.initConfig()}}})]),t._v(" "),s("div",{staticClass:"rule-div"},[s("div",{staticClass:"txt22"},[s("div",{staticClass:"level"},[t._v(t._s(t.$t("message.stake_38")))]),t._v("\n            "+t._s(t.$t("message.stake_44"))+"\n          ")]),t._v(" "),s("div",{staticClass:"txt22"},[s("div",{staticClass:"level"},[t._v(t._s(t.$t("message.stake_39")))]),t._v("\n            "+t._s(t.$t("message.stake_45"))+"\n          ")]),t._v(" "),s("div",{staticClass:"txt22"},[s("div",{staticClass:"level"},[t._v(t._s(t.$t("message.stake_40")))]),t._v("\n            "+t._s(t.$t("message.stake_46"))+"\n          ")])]),t._v(" "),s("div",{staticClass:"tipsl tipsl1"},[t._v(t._s(t.$t("message.stake_41")))]),t._v(" "),s("div",{staticClass:"tipsl"},[t._v(t._s(t.$t("message.stake_42")))]),t._v(" "),s("div",{staticClass:"tipsl"},[t._v(t._s(t.$t("message.stake_43")))])]),t._v(" "),s("div",{staticClass:"invite-url"},[s("div",{staticClass:"desc"},[t._v(t._s(t.$t("message.stake_29"))+":")]),t._v(" "),s("div",{staticClass:"url"},[s("span",{staticClass:"link"},[t._v(t._s(t.getUrl()))]),t._v(" "),s("i",{staticClass:"iconfont icon-fuzhi",attrs:{id:"copyBtn","data-clipboard-action":"copy","data-clipboard-text":t.getUrl()}})])])]),t._v(" "),s("div",{staticClass:"bottom"},t._l(t.detailList,function(e,a){return s("reward-item",{key:a,attrs:{dataInfo:e,descAry:t.descAry}})}),1)])])])])},staticRenderFns:[]};var p=s("C7Lr")(f,m,!1,function(t){s("GOOW")},"data-v-3a6a9dee",null);e.default=p.exports}});