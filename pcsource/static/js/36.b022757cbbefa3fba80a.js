webpackJsonp([36],{2120:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s("NYxO");var n=s("ytf2");function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,s){return function n(r,a){try{var i=t[r](a),c=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(c).then(function(e){n("next",e)},function(e){n("throw",e)});e(c)}("next")})}}var a={data:function(){return{email:"",sAddress:""}},computed:{},mounted:function(){this.QueryUserInfo()},methods:{QueryUserInfo:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var s,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.QueryUserInfo({idle:0});case 2:return s=t.sent,n=s.stAuth,e.email=n.sEmail,t.next=7,ethereum.request({method:"eth_requestAccounts"});case 7:r=t.sent,e.sAddress=r[0];case 9:case"end":return t.stop()}},t,e)}))()},logout:function(){this.$store.commit("app/LOGOUT"),vm.$router.replace("/index")},bindThis:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var s,r,a,i,c,u,o,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ethereum.request({method:"eth_requestAccounts"});case 2:return s=t.sent,r=s[0],t.next=6,e.$api.QueryChainInfo({sChain:"Ethereum",sAddress:r});case 6:return a=t.sent,i=a.sNonce,c=a.sChain,Object(n.b)(),t.next=12,web3.eth.personal.sign(i,r,function(e,t){if(e)return!1});case 12:return u=t.sent,t.next=15,e.$api.UserBindChain({sChain:c,sAddress:r,sSignature:u,iSource:1});case 15:return localStorage.setItem("Email",e.email),t.next=18,e.$api.GetUserExten({sAddress:r});case 18:o=t.sent,(d=o.stUserExtenInfo).owner=!0,e.$store.dispatch("user/GET_USERINFO",d||{}),e.$nextTick(function(){e.$router.replace("/")});case 23:case"end":return t.stop()}},t,e)}))()}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"change-matemask"},[s("div",{staticClass:"container"},[s("div",{staticClass:"title"},[e._v(e._s(e.$t("message.email_account_19")))]),e._v(" "),s("div",{staticClass:"address-title"},[e._v(e._s(e.$t("message.email_account_20")))]),e._v(" "),s("div",{staticClass:"address"},[e._v(e._s(e.sAddress))]),e._v(" "),s("div",{staticClass:"address-title"},[e._v(e._s(e.$t("message.email_account_21")))]),e._v(" "),s("div",{staticClass:"address"},[e._v(e._s(e.email))]),e._v(" "),s("div",{staticClass:"error-tips notice"},[s("span",{staticClass:"dot"}),e._v(e._s(e.$t("message.email_account_22"))+"\n    ")]),e._v(" "),s("div",{staticClass:"error-tips"},[s("span",{staticClass:"dot"}),e._v(e._s(e.$t("message.email_account_23"))+"\n    ")]),e._v(" "),s("div",{staticClass:"btn1",on:{click:e.bindThis}},[e._v(e._s(e.$t("message.email_account_24")))]),e._v(" "),s("div",{staticClass:"btn2",on:{click:e.logout}},[e._v(e._s(e.$t("message.email_account_25")))])])])},staticRenderFns:[]};var c=s("VU/8")(a,i,!1,function(e){s("Bhu5")},"data-v-316ccda3",null);t.default=c.exports},Bhu5:function(e,t){}});